<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2026-02-23">

<title>Real Estate Feasibility Studio – Nic | Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../img/profile.jpeg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-b4d8e255315082a850f3101be8cf4c50.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-95df84677223e8ba3731cfb67d8c134e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&amp;family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500&amp;family=DM+Mono:wght@400&amp;display=swap" rel="stylesheet">


<link rel="stylesheet" href="../../styles.scss">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Nic | Data</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/thesis.html"> 
<span class="menu-text">Thesis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../personal/index.html"> 
<span class="menu-text">Life</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blogs/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources/index.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gondamol"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/nichodemusamollo/"> <i class="bi bi-linkedin" role="img" aria-label="LinkedIn">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="mailto:nichodemuswerre@gmail.com"> 
<span class="menu-text">Get in Touch</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content page-columns page-full column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Real Estate Feasibility Studio</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">Business Analyst case project for mixed use development strategy</p>
</div>



<div class="quarto-title-meta column-page">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 23, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<style>
.reba-shell {
  width: min(1220px, calc(100vw - 3rem));
  margin: 1.6rem auto 4rem;
  display: block;
}

/* Quarto may inject page layout classes on raw html wrappers.
   Force our intended layout so there is no blank pre dashboard area. */
.reba-shell.page-columns.page-full {
  display: block !important;
}

.reba-shell.page-columns.page-full > * {
  grid-column: auto !important;
}

.reba-hero {
  border: 1px solid var(--border);
  background:
    radial-gradient(circle at 8% 18%, rgba(63, 123, 82, 0.16) 0, rgba(63, 123, 82, 0) 52%),
    radial-gradient(circle at 90% 14%, rgba(184, 78, 22, 0.18) 0, rgba(184, 78, 22, 0) 48%),
    linear-gradient(180deg, #ffffff 0%, #fbf8f3 100%);
  padding: 1.25rem 1.3rem 1.15rem;
  margin-bottom: 1rem;
  box-shadow: 0 14px 34px rgba(20, 20, 20, 0.07);
}

.reba-eyebrow {
  margin: 0;
  font-size: 0.67rem;
  font-weight: 700;
  letter-spacing: 0.13em;
  text-transform: uppercase;
  color: var(--terra);
}

.reba-title {
  margin: 0.45rem 0 0.6rem;
  font-size: clamp(1.68rem, 3vw, 2.6rem);
  line-height: 1.08;
}

.reba-lead {
  margin: 0;
  color: var(--muted);
  font-size: 0.9rem;
  max-width: 92ch;
}

.reba-toprow {
  margin-top: 0.95rem;
  display: flex;
  gap: 0.6rem;
  flex-wrap: wrap;
  align-items: center;
}

.reba-pill {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.82);
  padding: 0.25rem 0.7rem;
  font-size: 0.62rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--muted);
  white-space: nowrap;
}

.reba-btnrow {
  margin-left: auto;
  display: flex;
  gap: 0.5rem;
}

.reba-btn {
  border: 1px solid var(--border);
  background: #fff;
  color: var(--ink);
  font-size: 0.68rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  padding: 0.42rem 0.75rem;
  cursor: pointer;
  transition: border-color 0.18s, color 0.18s, background 0.18s;
}

.reba-btn:hover {
  border-color: var(--terra);
  color: var(--terra);
}

.reba-btn.is-primary {
  background: var(--terra);
  border-color: var(--terra);
  color: #fff;
}

.reba-btn.is-primary:hover {
  background: #a54413;
  border-color: #a54413;
  color: #fff;
}

.reba-workbench {
  display: flex;
  flex-direction: row;
  align-items: start;
  gap: 0.9rem;
}

.reba-workbench.page-columns.page-full {
  display: flex !important;
  flex-direction: row !important;
  align-items: start !important;
}

.reba-workbench.page-columns.page-full > * {
  grid-column: auto !important;
}

.reba-brief-grid {
  margin-bottom: 0.95rem;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 0.62rem;
}

.reba-brief-card {
  border: 1px solid var(--border);
  background: #fff;
  padding: 0.72rem 0.76rem;
}

.reba-brief-card h4 {
  margin: 0 0 0.34rem;
  font-size: 0.78rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--terra);
  font-family: 'DM Sans', sans-serif;
}

.reba-brief-card p {
  margin: 0;
  max-width: none;
  color: var(--muted);
  font-size: 0.7rem;
  line-height: 1.48;
}

.reba-panel,
.reba-controls {
  border: 1px solid var(--border);
  background: #fff;
  padding: 0.9rem 0.95rem;
}

.reba-controls {
  flex: 0 0 320px;
  width: 320px;
  align-self: start;
  position: sticky;
  top: 96px;
}

.reba-output {
  flex: 1 1 auto;
  min-width: 0;
  align-self: start;
  margin-top: 0;
}

.reba-controls h3,
.reba-panel h3 {
  margin: 0 0 0.6rem;
  font-size: 0.98rem;
}

.reba-muted {
  margin: 0 0 0.6rem;
  color: var(--muted);
  font-size: 0.77rem;
  line-height: 1.55;
  max-width: none;
}

.reba-control-group {
  border-top: 1px solid var(--border);
  padding-top: 0.62rem;
  margin-top: 0.62rem;
}

.reba-control {
  margin: 0 0 0.62rem;
}

.reba-control:last-child {
  margin-bottom: 0;
}

.reba-control label {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  font-size: 0.7rem;
  letter-spacing: 0.03em;
  color: var(--ink);
  margin-bottom: 0.22rem;
}

.reba-control span {
  color: var(--terra);
  font-family: 'DM Mono', monospace;
}

.reba-control input[type="range"] {
  width: 100%;
}

.reba-control select {
  width: 100%;
  border: 1px solid var(--border);
  background: #fff;
  font-size: 0.75rem;
  color: var(--text);
  padding: 0.34rem 0.45rem;
}

.reba-kpis {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 0.58rem;
  margin-bottom: 0.85rem;
}

.reba-kpi {
  border: 1px solid var(--border);
  background: linear-gradient(180deg, #ffffff 0%, #faf8f3 100%);
  padding: 0.65rem 0.7rem;
}

.reba-kpi .k {
  display: block;
  font-size: 0.61rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 0.18rem;
}

.reba-kpi .v {
  display: block;
  font-size: 1.02rem;
  font-family: 'Playfair Display', serif;
  color: var(--ink);
  line-height: 1.2;
}

.reba-kpi .s {
  display: block;
  margin-top: 0.18rem;
  font-size: 0.64rem;
  color: var(--muted);
}

.reba-grid-two {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 0.72rem;
  margin-bottom: 0.72rem;
}

.reba-chart-legend {
  margin-top: 0.45rem;
  display: flex;
  gap: 0.6rem;
  font-size: 0.62rem;
  color: var(--muted);
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.reba-dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-right: 0.28rem;
  vertical-align: middle;
}

.reba-dot.rev { background: #3f7b52; }
.reba-dot.cost { background: #b84e16; }

.reba-cashflow-bars {
  border: 1px solid var(--border);
  background: #fbfaf7;
  padding: 0.68rem 0.5rem 0.35rem;
  display: grid;
  grid-template-columns: repeat(8, minmax(0, 1fr));
  gap: 0.3rem;
}

.reba-year {
  display: grid;
  justify-items: center;
  align-content: end;
  gap: 0.24rem;
}

.reba-bar-stack {
  width: 100%;
  max-width: 58px;
  height: 146px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  background: linear-gradient(180deg, #ffffff 0%, #f6f3ee 100%);
  display: flex;
  align-items: end;
  justify-content: center;
  gap: 4px;
  padding: 3px;
}

.reba-bar {
  width: 18px;
  min-height: 3px;
  border-radius: 1px 1px 0 0;
}

.reba-bar.rev { background: #3f7b52; }
.reba-bar.cost { background: #b84e16; }

.reba-year-net {
  font-size: 0.56rem;
  letter-spacing: 0.03em;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
}

.reba-year-net.pos { color: #2d7d4a; }
.reba-year-net.neg { color: #a94316; }

.reba-year-tag {
  font-size: 0.58rem;
  color: var(--muted);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.reba-table-wrap {
  border: 1px solid var(--border);
  overflow: auto;
}

.reba-table,
.reba-heatmap {
  width: 100%;
  border-collapse: collapse;
}

.reba-table th,
.reba-table td,
.reba-heatmap th,
.reba-heatmap td {
  border-bottom: 1px solid var(--border);
  padding: 0.4rem 0.42rem;
  text-align: left;
  font-size: 0.67rem;
}

.reba-table th,
.reba-heatmap th {
  font-size: 0.58rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--muted);
  background: #faf8f3;
}

.reba-table td:last-child,
.reba-table th:last-child,
.reba-heatmap td:last-child,
.reba-heatmap th:last-child {
  text-align: right;
}

.reba-demand {
  display: grid;
  gap: 0.45rem;
  margin-top: 0.32rem;
}

.reba-demand-row {
  display: grid;
  grid-template-columns: 110px minmax(0, 1fr) 40px;
  gap: 0.5rem;
  align-items: center;
}

.reba-demand-row .n {
  font-size: 0.64rem;
  color: var(--text);
}

.reba-demand-track {
  height: 10px;
  border: 1px solid rgba(63, 123, 82, 0.3);
  background: rgba(63, 123, 82, 0.08);
  position: relative;
}

.reba-demand-fill {
  display: block;
  height: 100%;
  background: linear-gradient(90deg, #2d7d4a 0%, #8ccf9b 100%);
}

.reba-demand-score {
  font-size: 0.64rem;
  font-family: 'DM Mono', monospace;
  color: #2d7d4a;
  text-align: right;
}

.reba-reco {
  margin: 0.2rem 0 0;
  padding-left: 1rem;
}

.reba-reco li {
  margin: 0.34rem 0;
  color: var(--muted);
  font-size: 0.73rem;
  line-height: 1.45;
}

.reba-boardbox {
  border: 1px solid var(--border);
  background: #fbfaf7;
  padding: 0.65rem;
}

.reba-boardtext {
  width: 100%;
  min-height: 145px;
  border: 1px solid var(--border);
  background: #fff;
  padding: 0.62rem;
  font-size: 0.7rem;
  line-height: 1.46;
  color: var(--text);
  font-family: 'DM Mono', monospace;
}

.reba-footnote {
  margin: 0.55rem 0 0;
  font-size: 0.62rem;
  color: var(--muted);
  max-width: none;
}

@media (max-width: 1220px) {
  .reba-brief-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .reba-kpis {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 980px) {
  .reba-shell {
    width: min(1220px, calc(100vw - 2rem));
  }

  .reba-workbench {
    flex-direction: column;
  }

  .reba-controls {
    width: 100%;
    flex: 1 1 auto;
    position: static;
  }

  .reba-grid-two {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 760px) {
  .reba-brief-grid {
    grid-template-columns: 1fr;
  }

  .reba-toprow {
    flex-direction: column;
    align-items: flex-start;
  }

  .reba-btnrow {
    margin-left: 0;
    width: 100%;
  }

  .reba-btnrow .reba-btn {
    flex: 1;
  }

  .reba-kpis {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .reba-cashflow-bars {
    overflow: auto;
    grid-template-columns: repeat(8, 72px);
    justify-content: start;
  }
}
</style>

<div class="reba-shell page-columns page-full">
  <section class="reba-hero">
    <p class="reba-eyebrow">Business Analyst Case Project</p>
    <h1 class="reba-title">Mixed Use Development Feasibility Studio</h1>
    <p class="reba-lead">
      A live investment case dashboard built for real estate planning decisions. It combines product mix strategy,
      market demand scoring, discounted cash flow modeling, sensitivity testing, and board ready reporting in one view.
      This is the exact analysis workflow used to test viability before design freeze and budget approval.
    </p>
    <div class="reba-toprow">
      <span class="reba-pill">Residential</span>
      <span class="reba-pill">Commercial</span>
      <span class="reba-pill">Retail</span>
      <span class="reba-pill">Industrial</span>
      <span class="reba-pill">DCF · NPV · IRR · ROI</span>
      <div class="reba-btnrow">
        <button class="reba-btn" id="rebaResetBtn" type="button">Reset baseline</button>
        <button class="reba-btn is-primary" id="rebaCopyBtn" type="button">Copy board summary</button>
      </div>
    </div>
  </section>

  <section class="reba-brief-grid" aria-label="Case brief summary">
    <article class="reba-brief-card">
      <h4 class="anchored">Data sources</h4>
      <p>Portfolio demonstration dataset built from public Kenya macro indicators, sampled property listing comparables, and structured development cost assumptions from quantity survey templates.</p>
    </article>
    <article class="reba-brief-card">
      <h4 class="anchored">Engineering and cleaning</h4>
      <p>Data is standardized through schema checks, unit normalization, duplicate detection, outlier flags, and pricing alignment before any financial modeling is run.</p>
    </article>
    <article class="reba-brief-card">
      <h4 class="anchored">Pipeline and analysis</h4>
      <p>Modular SQL and R style pipeline transforms source tables into scenario ready model inputs powering DCF, NPV, IRR, ROI, payback, and sensitivity analysis.</p>
    </article>
    <article class="reba-brief-card">
      <h4 class="anchored">Stakeholder value</h4>
      <p>Creates one shared decision view for finance, planning, design, engineering, and construction teams, improving coordination, budget discipline, and return clarity.</p>
    </article>
  </section>

  <section class="reba-workbench page-columns page-full">
    <aside class="reba-controls">
      <h3 class="anchored">Model controls</h3>
      <p class="reba-muted">Tune assumptions the same way a feasibility team would during investor and management review.</p>

      <div class="reba-control-group">
        <div class="reba-control">
          <label for="rebaArea">Development area sqm <span id="rebaAreaOut"></span></label>
          <input id="rebaArea" type="range" min="70000" max="260000" step="5000" value="150000">
        </div>
        <div class="reba-control">
          <label for="rebaLandCost">Land cost per sqm KES <span id="rebaLandCostOut"></span></label>
          <input id="rebaLandCost" type="range" min="4000" max="18000" step="500" value="8500">
        </div>
        <div class="reba-control">
          <label for="rebaDiscount">Discount rate <span id="rebaDiscountOut"></span></label>
          <input id="rebaDiscount" type="range" min="8" max="24" step="0.5" value="14">
        </div>
        <div class="reba-control">
          <label for="rebaFinanceRate">Finance cost rate <span id="rebaFinanceRateOut"></span></label>
          <input id="rebaFinanceRate" type="range" min="2" max="16" step="0.5" value="7.5">
        </div>
        <div class="reba-control">
          <label for="rebaAbsorption">Absorption period years <span id="rebaAbsorptionOut"></span></label>
          <input id="rebaAbsorption" type="range" min="4" max="9" step="1" value="6">
        </div>
        <div class="reba-control">
          <label for="rebaPriceAdj">Pricing shock <span id="rebaPriceAdjOut"></span></label>
          <input id="rebaPriceAdj" type="range" min="80" max="125" step="1" value="100">
        </div>
        <div class="reba-control">
          <label for="rebaCostAdj">Construction cost shock <span id="rebaCostAdjOut"></span></label>
          <input id="rebaCostAdj" type="range" min="80" max="125" step="1" value="100">
        </div>
        <div class="reba-control">
          <label for="rebaProfile">Capex curve</label>
          <select id="rebaProfile">
            <option value="front">Front loaded</option>
            <option value="balanced" selected="">Balanced</option>
            <option value="back">Back loaded</option>
          </select>
        </div>
      </div>

      <div class="reba-control-group">
        <p class="reba-muted" style="margin-bottom:0.45rem;">Product mix raw sliders. The model auto normalizes to 100 percent.</p>
        <div class="reba-control">
          <label for="mixResidential">Residential share <span id="mixResidentialOut"></span></label>
          <input id="mixResidential" type="range" min="0" max="100" step="1" value="42">
        </div>
        <div class="reba-control">
          <label for="mixCommercial">Commercial share <span id="mixCommercialOut"></span></label>
          <input id="mixCommercial" type="range" min="0" max="100" step="1" value="24">
        </div>
        <div class="reba-control">
          <label for="mixRetail">Retail share <span id="mixRetailOut"></span></label>
          <input id="mixRetail" type="range" min="0" max="100" step="1" value="17">
        </div>
        <div class="reba-control">
          <label for="mixIndustrial">Industrial share <span id="mixIndustrialOut"></span></label>
          <input id="mixIndustrial" type="range" min="0" max="100" step="1" value="17">
        </div>
      </div>
    </aside>

    <div class="reba-output">
      <section class="reba-kpis" aria-label="Core financial outputs">
        <article class="reba-kpi">
          <span class="k">NPV</span>
          <span class="v" id="kpiNpv">...</span>
          <span class="s">Discounted value at selected rate</span>
        </article>
        <article class="reba-kpi">
          <span class="k">IRR</span>
          <span class="v" id="kpiIrr">...</span>
          <span class="s">Internal return from model cash flow</span>
        </article>
        <article class="reba-kpi">
          <span class="k">ROI</span>
          <span class="v" id="kpiRoi">...</span>
          <span class="s">Profit on total development cost</span>
        </article>
        <article class="reba-kpi">
          <span class="k">Payback</span>
          <span class="v" id="kpiPayback">...</span>
          <span class="s">Year cumulative cash flow turns positive</span>
        </article>
        <article class="reba-kpi">
          <span class="k">Total gross sales</span>
          <span class="v" id="kpiSales">...</span>
          <span class="s">Portfolio revenue across asset classes</span>
        </article>
      </section>

      <section class="reba-grid-two">
        <article class="reba-panel">
          <h3 class="anchored">Eight year cash flow</h3>
          <p class="reba-muted">Revenue and cost per year with net signal for phasing and funding pressure.</p>
          <div class="reba-cashflow-bars" id="rebaCashflowBars" aria-label="Cash flow bars"></div>
          <div class="reba-chart-legend">
            <span><i class="reba-dot rev"></i>Revenue</span>
            <span><i class="reba-dot cost"></i>Cost</span>
          </div>
        </article>

        <article class="reba-panel">
          <h3 class="anchored">Product mix and margin</h3>
          <p class="reba-muted">Normalized mix, pricing assumptions, and gross margin by asset class.</p>
          <div class="reba-table-wrap">
            
<table class="reba-table caption-top">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Asset class</th>
<th data-quarto-table-cell-role="th">Share</th>
<th data-quarto-table-cell-role="th">Avg price</th>
<th data-quarto-table-cell-role="th">Avg cost</th>
<th data-quarto-table-cell-role="th">Gross margin</th>
</tr>
</thead>
<tbody id="rebaMixBody">
</tbody>
</table>

          </div>
        </article>
      </section>

      <section class="reba-grid-two">
        <article class="reba-panel">
          <h3 class="anchored">Sensitivity matrix</h3>
          <p class="reba-muted">NPV stress test across combined price and cost shocks.</p>
          <div class="reba-table-wrap">
            
<table class="reba-heatmap caption-top table">
<thead id="rebaHeatmapHead">
<tr class="header">
<th data-quarto-table-cell-role="th">Cost \ Price</th>
<th data-quarto-table-cell-role="th">Loading</th>
</tr>
</thead>
<tbody id="rebaHeatmapBody">
<tr class="odd">
<th data-quarto-table-cell-role="th">0%</th>
<td>Loading model</td>
</tr>
</tbody>
</table>

          </div>
        </article>

        <article class="reba-panel">
          <h3 class="anchored">Market pulse and recommendations</h3>
          <p class="reba-muted">Demand index is adjusted by pricing pressure and mix concentration risk.</p>
          <div class="reba-demand" id="rebaDemandBars"></div>
          <ul class="reba-reco" id="rebaRecommendations"></ul>
        </article>
      </section>

      <article class="reba-panel">
        <h3 class="anchored">Board brief draft</h3>
        <p class="reba-muted">Auto generated talking points for investor, lender, and management presentation.</p>
        <div class="reba-boardbox">
          <textarea id="rebaBoardText" class="reba-boardtext" readonly=""></textarea>
          <p class="reba-footnote">Scenario values are illustrative for portfolio demonstration. Replace assumptions with verified site data before investment approval.</p>
        </div>
      </article>
    </div>
  </section>
</div>

<script>
(function() {
  var assets = [
    { id: 'residential', label: 'Residential', price: 92000, cost: 56000, baseDemand: 82, targetShare: 0.42 },
    { id: 'commercial', label: 'Commercial', price: 118000, cost: 74000, baseDemand: 68, targetShare: 0.24 },
    { id: 'retail', label: 'Retail', price: 132000, cost: 86000, baseDemand: 64, targetShare: 0.17 },
    { id: 'industrial', label: 'Industrial', price: 78000, cost: 51000, baseDemand: 74, targetShare: 0.17 }
  ];

  var capexProfiles = {
    front: [0.34, 0.27, 0.16, 0.11, 0.06, 0.03, 0.02, 0.01],
    balanced: [0.24, 0.22, 0.18, 0.13, 0.10, 0.07, 0.04, 0.02],
    back: [0.16, 0.18, 0.17, 0.16, 0.14, 0.10, 0.06, 0.03]
  };

  var defaults = {
    rebaArea: 150000,
    rebaLandCost: 8500,
    rebaDiscount: 14,
    rebaFinanceRate: 7.5,
    rebaAbsorption: 6,
    rebaPriceAdj: 100,
    rebaCostAdj: 100,
    rebaProfile: 'balanced',
    mixResidential: 42,
    mixCommercial: 24,
    mixRetail: 17,
    mixIndustrial: 17
  };

  var inputIds = [
    'rebaArea', 'rebaLandCost', 'rebaDiscount', 'rebaFinanceRate',
    'rebaAbsorption', 'rebaPriceAdj', 'rebaCostAdj', 'rebaProfile',
    'mixResidential', 'mixCommercial', 'mixRetail', 'mixIndustrial'
  ];

  var outIds = [
    'rebaAreaOut', 'rebaLandCostOut', 'rebaDiscountOut', 'rebaFinanceRateOut',
    'rebaAbsorptionOut', 'rebaPriceAdjOut', 'rebaCostAdjOut',
    'mixResidentialOut', 'mixCommercialOut', 'mixRetailOut', 'mixIndustrialOut'
  ];

  function byId(id) {
    return document.getElementById(id);
  }

  function clamp(n, min, max) {
    return Math.max(min, Math.min(max, n));
  }

  function shortMoney(value) {
    var sign = value < 0 ? '-' : '';
    var abs = Math.abs(value);
    if (abs >= 1000000000) return sign + 'KES ' + (abs / 1000000000).toFixed(2) + 'B';
    if (abs >= 1000000) return sign + 'KES ' + (abs / 1000000).toFixed(1) + 'M';
    return sign + 'KES ' + abs.toFixed(0);
  }

  function percent(v, digits) {
    return (v * 100).toFixed(digits == null ? 1 : digits) + '%';
  }

  function normalizeShares(raw) {
    var sum = raw.reduce(function(acc, v) { return acc + v; }, 0);
    if (sum <= 0) {
      return [0.42, 0.24, 0.17, 0.17];
    }
    return raw.map(function(v) { return v / sum; });
  }

  function buildSalesCurve(absorptionYears, weightedDemand) {
    var horizon = 8;
    var demandFactor = clamp(weightedDemand / 72, 0.72, 1.25);
    var k = 1 + (1 - demandFactor) * 0.8;
    var curve = [];
    for (var year = 1; year <= horizon; year++) {
      var ramp = 1 / (1 + Math.exp(-((year - (absorptionYears * 0.55)) / k)));
      var tail = 1 / (1 + Math.exp(((year - absorptionYears - 0.7) / 1.05)));
      var value = (ramp * tail) + 0.02;
      curve.push(Math.max(0.015, value));
    }
    var sum = curve.reduce(function(acc, v) { return acc + v; }, 0);
    return curve.map(function(v) { return v / sum; });
  }

  function npvFromRate(cashflows, rate) {
    var total = 0;
    for (var i = 0; i < cashflows.length; i++) {
      total += cashflows[i] / Math.pow(1 + rate, i + 1);
    }
    return total;
  }

  function irr(cashflows) {
    var min = -0.9;
    var max = 1.8;
    var npvMin = npvFromRate(cashflows, min);
    var npvMax = npvFromRate(cashflows, max);
    if (npvMin * npvMax > 0) return null;
    for (var i = 0; i < 130; i++) {
      var mid = (min + max) / 2;
      var npvMid = npvFromRate(cashflows, mid);
      if (npvMid === 0) return mid;
      if (npvMid * npvMin > 0) {
        min = mid;
        npvMin = npvMid;
      } else {
        max = mid;
      }
    }
    return (min + max) / 2;
  }

  function gatherInputs() {
    return {
      area: Number(byId('rebaArea').value),
      landCost: Number(byId('rebaLandCost').value),
      discountRate: Number(byId('rebaDiscount').value) / 100,
      financeRate: Number(byId('rebaFinanceRate').value) / 100,
      absorptionYears: Number(byId('rebaAbsorption').value),
      priceAdj: Number(byId('rebaPriceAdj').value) / 100,
      costAdj: Number(byId('rebaCostAdj').value) / 100,
      capexProfile: byId('rebaProfile').value,
      rawShares: [
        Number(byId('mixResidential').value),
        Number(byId('mixCommercial').value),
        Number(byId('mixRetail').value),
        Number(byId('mixIndustrial').value)
      ]
    };
  }

  function runModel(params, override) {
    var area = override && override.area != null ? override.area : params.area;
    var landCost = override && override.landCost != null ? override.landCost : params.landCost;
    var discountRate = override && override.discountRate != null ? override.discountRate : params.discountRate;
    var financeRate = override && override.financeRate != null ? override.financeRate : params.financeRate;
    var absorptionYears = override && override.absorptionYears != null ? override.absorptionYears : params.absorptionYears;
    var priceAdj = override && override.priceAdj != null ? override.priceAdj : params.priceAdj;
    var costAdj = override && override.costAdj != null ? override.costAdj : params.costAdj;
    var capexProfile = override && override.capexProfile ? override.capexProfile : params.capexProfile;
    var shares = normalizeShares(override && override.rawShares ? override.rawShares : params.rawShares);

    var classRows = [];
    var weightedDemand = 0;
    var totalRevenue = 0;
    var totalConstruction = 0;

    for (var i = 0; i < assets.length; i++) {
      var asset = assets[i];
      var share = shares[i];
      var concentrationPenalty = Math.max(0, (share - asset.targetShare) * 120);
      var demand = clamp(asset.baseDemand + (1 - priceAdj) * 48 - concentrationPenalty, 35, 95);
      var classArea = area * share;
      var unitPrice = asset.price * priceAdj;
      var unitCost = asset.cost * costAdj;
      var revenue = classArea * unitPrice;
      var construction = classArea * unitCost;
      var grossMargin = (unitPrice - unitCost) / unitPrice;

      weightedDemand += demand * share;
      totalRevenue += revenue;
      totalConstruction += construction;

      classRows.push({
        label: asset.label,
        share: share,
        demand: demand,
        unitPrice: unitPrice,
        unitCost: unitCost,
        grossMargin: grossMargin
      });
    }

    var landCostTotal = area * landCost;
    var infraCost = totalConstruction * 0.12;
    var softCost = totalConstruction * 0.09;
    var financeCost = (landCostTotal + totalConstruction + infraCost + softCost) * financeRate;
    var totalCost = landCostTotal + totalConstruction + infraCost + softCost + financeCost;

    var costCurveRaw = capexProfiles[capexProfile] || capexProfiles.balanced;
    var costCurveSum = costCurveRaw.reduce(function(acc, v) { return acc + v; }, 0);
    var costCurve = costCurveRaw.map(function(v) { return v / costCurveSum; });
    var salesCurve = buildSalesCurve(absorptionYears, weightedDemand);

    var yearly = [];
    var cumulative = 0;
    var payback = null;
    for (var year = 0; year < 8; year++) {
      var rev = totalRevenue * salesCurve[year];
      var cost = totalCost * costCurve[year];
      var net = rev - cost;
      cumulative += net;
      if (payback == null && cumulative >= 0) {
        payback = year + 1;
      }
      yearly.push({ rev: rev, cost: cost, net: net, cumulative: cumulative });
    }

    var netSeries = yearly.map(function(y) { return y.net; });
    var npv = npvFromRate(netSeries, discountRate);
    var projectIrr = irr(netSeries);
    var roi = (totalRevenue - totalCost) / totalCost;
    var margin = (totalRevenue - totalCost) / totalRevenue;

    return {
      classRows: classRows,
      yearly: yearly,
      totalRevenue: totalRevenue,
      totalCost: totalCost,
      totalProfit: totalRevenue - totalCost,
      weightedDemand: weightedDemand,
      npv: npv,
      irr: projectIrr,
      roi: roi,
      margin: margin,
      payback: payback,
      discountRate: discountRate,
      landShare: landCostTotal / totalCost,
      financeShare: financeCost / totalCost
    };
  }

  function renderReadouts(params) {
    byId('rebaAreaOut').textContent = Number(params.area).toLocaleString('en-KE');
    byId('rebaLandCostOut').textContent = Number(params.landCost).toLocaleString('en-KE');
    byId('rebaDiscountOut').textContent = (params.discountRate * 100).toFixed(1) + '%';
    byId('rebaFinanceRateOut').textContent = (params.financeRate * 100).toFixed(1) + '%';
    byId('rebaAbsorptionOut').textContent = String(params.absorptionYears);
    byId('rebaPriceAdjOut').textContent = ((params.priceAdj - 1) * 100).toFixed(0) + '%';
    byId('rebaCostAdjOut').textContent = ((params.costAdj - 1) * 100).toFixed(0) + '%';
    byId('mixResidentialOut').textContent = String(params.rawShares[0]);
    byId('mixCommercialOut').textContent = String(params.rawShares[1]);
    byId('mixRetailOut').textContent = String(params.rawShares[2]);
    byId('mixIndustrialOut').textContent = String(params.rawShares[3]);
  }

  function renderKpis(model) {
    byId('kpiNpv').textContent = shortMoney(model.npv);
    byId('kpiIrr').textContent = model.irr == null ? 'No solution' : percent(model.irr, 1);
    byId('kpiRoi').textContent = percent(model.roi, 1);
    byId('kpiPayback').textContent = model.payback == null ? '> 8 years' : ('Year ' + model.payback);
    byId('kpiSales').textContent = shortMoney(model.totalRevenue);
  }

  function renderCashflow(model) {
    var holder = byId('rebaCashflowBars');
    var maxValue = 1;
    model.yearly.forEach(function(y) {
      maxValue = Math.max(maxValue, y.rev, y.cost);
    });

    holder.innerHTML = model.yearly.map(function(y, idx) {
      var revHeight = Math.max(3, (y.rev / maxValue) * 100);
      var costHeight = Math.max(3, (y.cost / maxValue) * 100);
      var netClass = y.net >= 0 ? 'pos' : 'neg';
      return ''
        + '<div class="reba-year">'
        + '  <div class="reba-bar-stack">'
        + '    <span class="reba-bar cost" style="height:' + costHeight.toFixed(2) + '%"></span>'
        + '    <span class="reba-bar rev" style="height:' + revHeight.toFixed(2) + '%"></span>'
        + '  </div>'
        + '  <div class="reba-year-net ' + netClass + '">' + shortMoney(y.net) + '</div>'
        + '  <div class="reba-year-tag">Y' + (idx + 1) + '</div>'
        + '</div>';
    }).join('');
  }

  function renderMixTable(model) {
    var body = byId('rebaMixBody');
    body.innerHTML = model.classRows.map(function(r) {
      return ''
        + '<tr>'
        + '  <td>' + r.label + '</td>'
        + '  <td>' + percent(r.share, 1) + '</td>'
        + '  <td>' + shortMoney(r.unitPrice) + '</td>'
        + '  <td>' + shortMoney(r.unitCost) + '</td>'
        + '  <td>' + percent(r.grossMargin, 1) + '</td>'
        + '</tr>';
    }).join('');
  }

  function renderHeatmap(params) {
    var priceShocks = [-10, -5, 0, 5, 10];
    var costShocks = [10, 5, 0, -5, -10];
    var values = [];
    var rows = [];

    for (var i = 0; i < costShocks.length; i++) {
      var row = [];
      for (var j = 0; j < priceShocks.length; j++) {
        var scenario = runModel(params, {
          priceAdj: params.priceAdj * (1 + (priceShocks[j] / 100)),
          costAdj: params.costAdj * (1 + (costShocks[i] / 100))
        });
        row.push(scenario.npv);
        values.push(scenario.npv);
      }
      rows.push(row);
    }

    var min = Math.min.apply(null, values);
    var max = Math.max.apply(null, values);
    var spread = Math.max(1, max - min);

    var head = '<tr><th>Cost \\ Price</th>' + priceShocks.map(function(p) {
      return '<th>' + (p > 0 ? '+' : '') + p + '%</th>';
    }).join('') + '</tr>';
    byId('rebaHeatmapHead').innerHTML = head;

    var bodyHtml = rows.map(function(row, rIdx) {
      var left = '<th>' + (costShocks[rIdx] > 0 ? '+' : '') + costShocks[rIdx] + '%</th>';
      var cells = row.map(function(v) {
        var intensity = (Math.abs(v) - Math.min(Math.abs(min), Math.abs(max)) * 0.15) / spread;
        intensity = clamp(intensity, 0.12, 0.92);
        var color = v >= 0
          ? 'rgba(45, 125, 74, ' + intensity.toFixed(3) + ')'
          : 'rgba(184, 78, 22, ' + intensity.toFixed(3) + ')';
        var textColor = intensity > 0.48 ? '#fff' : '#2d2b27';
        return '<td style="background:' + color + ';color:' + textColor + ';font-family:DM Mono, monospace;">' + shortMoney(v) + '</td>';
      }).join('');
      return '<tr>' + left + cells + '</tr>';
    }).join('');

    byId('rebaHeatmapBody').innerHTML = bodyHtml;
  }

  function renderDemand(model) {
    var box = byId('rebaDemandBars');
    box.innerHTML = model.classRows.map(function(r) {
      return ''
        + '<div class="reba-demand-row">'
        + '  <span class="n">' + r.label + '</span>'
        + '  <div class="reba-demand-track"><span class="reba-demand-fill" style="width:' + r.demand.toFixed(1) + '%"></span></div>'
        + '  <span class="reba-demand-score">' + r.demand.toFixed(0) + '</span>'
        + '</div>';
    }).join('');
  }

  function buildRecommendations(model, params) {
    var items = [];

    if (model.npv > 0 && model.irr != null && model.irr > (model.discountRate + 0.035)) {
      items.push('Proceed with phase one approvals because the base case clears value and return thresholds.');
    } else {
      items.push('Refine assumptions before board approval since the base case does not strongly clear return thresholds.');
    }

    if (model.payback == null || model.payback > 7) {
      items.push('Tighten phasing and pre sales strategy to shorten payback and reduce financing pressure.');
    } else {
      items.push('Current phasing is acceptable for lender conversations given payback timing.');
    }

    if (params.costAdj > 1.08) {
      items.push('Run value engineering now because cost pressure is materially reducing project headroom.');
    }

    if (model.weightedDemand < 66) {
      items.push('Rebalance product mix toward higher demand classes to improve absorption confidence.');
    } else {
      items.push('Demand profile is healthy enough to support planned release sequencing.');
    }

    if (model.landShare > 0.12) {
      items.push('Land cost share is elevated so renegotiate land terms or increase effective sellable density.');
    }

    if (model.financeShare > 0.1) {
      items.push('Finance cost share is high so prioritize faster collections and staged debt drawdown.');
    }

    return items.slice(0, 5);
  }

  function renderRecommendations(model, params) {
    var list = byId('rebaRecommendations');
    var recs = buildRecommendations(model, params);
    list.innerHTML = recs.map(function(item) {
      return '<li>' + item + '</li>';
    }).join('');
  }

  function renderBoardBrief(model, params) {
    var bestClass = model.classRows
      .slice()
      .sort(function(a, b) {
        return (b.grossMargin * b.demand) - (a.grossMargin * a.demand);
      })[0];

    var text = ''
      + 'Scenario overview\n'
      + 'Total area: ' + Number(params.area).toLocaleString('en-KE') + ' sqm\n'
      + 'Discount rate: ' + (params.discountRate * 100).toFixed(1) + '%\n'
      + 'Absorption period: ' + params.absorptionYears + ' years\n\n'
      + 'Financial result\n'
      + 'NPV: ' + shortMoney(model.npv) + '\n'
      + 'IRR: ' + (model.irr == null ? 'No solution' : percent(model.irr, 1)) + '\n'
      + 'ROI: ' + percent(model.roi, 1) + '\n'
      + 'Payback: ' + (model.payback == null ? 'Beyond year 8' : 'Year ' + model.payback) + '\n\n'
      + 'Portfolio signal\n'
      + 'Best risk adjusted class: ' + bestClass.label + '\n'
      + 'Weighted demand index: ' + model.weightedDemand.toFixed(1) + ' / 100\n'
      + 'Land cost share: ' + percent(model.landShare, 1) + '\n'
      + 'Finance cost share: ' + percent(model.financeShare, 1) + '\n\n'
      + 'Decision guidance\n'
      + buildRecommendations(model, params).map(function(item, idx) {
        return (idx + 1) + '. ' + item;
      }).join('\n');

    byId('rebaBoardText').value = text;
  }

  function updateAll() {
    var params = gatherInputs();
    renderReadouts(params);
    var model = runModel(params);
    renderKpis(model);
    renderCashflow(model);
    renderMixTable(model);
    renderHeatmap(params);
    renderDemand(model);
    renderRecommendations(model, params);
    renderBoardBrief(model, params);
  }

  function resetDefaults() {
    inputIds.forEach(function(id) {
      var el = byId(id);
      if (!el) return;
      el.value = defaults[id];
    });
    updateAll();
  }

  function copyBoardBrief() {
    var text = byId('rebaBoardText').value;
    if (navigator.clipboard && text) {
      navigator.clipboard.writeText(text).then(function() {
        var btn = byId('rebaCopyBtn');
        var old = btn.textContent;
        btn.textContent = 'Copied';
        setTimeout(function() {
          btn.textContent = old;
        }, 1200);
      });
    }
  }

  inputIds.forEach(function(id) {
    var el = byId(id);
    if (!el) return;
    el.addEventListener('input', updateAll);
    el.addEventListener('change', updateAll);
  });

  byId('rebaResetBtn').addEventListener('click', resetDefaults);
  byId('rebaCopyBtn').addEventListener('click', copyBoardBrief);

  outIds.forEach(function(id) {
    if (!byId(id)) {
      console.warn('Missing output id', id);
    }
  });

  updateAll();
})();
</script>


<!-- -->


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/gondamol\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Real Estate Feasibility Studio"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Business Analyst case project for mixed use development strategy"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2026-02-23"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="an">page-layout:</span><span class="co"> full</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> false</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: false</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-shell {</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="in">  width: min(1220px, calc(100vw - 3rem));</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 1.6rem auto 4rem;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="in">  display: block;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="in">/* Quarto may inject page layout classes on raw html wrappers.</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="in">   Force our intended layout so there is no blank pre dashboard area. */</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-shell.page-columns.page-full {</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="in">  display: block !important;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-shell.page-columns.page-full &gt; * {</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="in">  grid-column: auto !important;</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-hero {</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="in">  background:</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="in">    radial-gradient(circle at 8% 18%, rgba(63, 123, 82, 0.16) 0, rgba(63, 123, 82, 0) 52%),</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="in">    radial-gradient(circle at 90% 14%, rgba(184, 78, 22, 0.18) 0, rgba(184, 78, 22, 0) 48%),</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="in">    linear-gradient(180deg, #ffffff 0%, #fbf8f3 100%);</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 1.25rem 1.3rem 1.15rem;</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: 1rem;</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="in">  box-shadow: 0 14px 34px rgba(20, 20, 20, 0.07);</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-eyebrow {</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0;</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.67rem;</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="in">  font-weight: 700;</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.13em;</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--terra);</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-title {</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0.45rem 0 0.6rem;</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: clamp(1.68rem, 3vw, 2.6rem);</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="in">  line-height: 1.08;</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-lead {</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0;</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.9rem;</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: 92ch;</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-toprow {</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: 0.95rem;</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.6rem;</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="in">  flex-wrap: wrap;</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: center;</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-pill {</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="in">  background: rgba(255, 255, 255, 0.82);</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.25rem 0.7rem;</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.62rem;</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.08em;</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="in">  white-space: nowrap;</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-btnrow {</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-left: auto;</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.5rem;</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-btn {</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #fff;</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--ink);</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.68rem;</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.08em;</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.42rem 0.75rem;</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a><span class="in">  cursor: pointer;</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="in">  transition: border-color 0.18s, color 0.18s, background 0.18s;</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-btn:hover {</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a><span class="in">  border-color: var(--terra);</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--terra);</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-btn.is-primary {</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a><span class="in">  background: var(--terra);</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a><span class="in">  border-color: var(--terra);</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a><span class="in">  color: #fff;</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-btn.is-primary:hover {</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #a54413;</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a><span class="in">  border-color: #a54413;</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a><span class="in">  color: #fff;</span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-workbench {</span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a><span class="in">  flex-direction: row;</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: start;</span></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.9rem;</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-workbench.page-columns.page-full {</span></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex !important;</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a><span class="in">  flex-direction: row !important;</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: start !important;</span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-workbench.page-columns.page-full &gt; * {</span></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a><span class="in">  grid-column: auto !important;</span></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-brief-grid {</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: 0.95rem;</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a><span class="in">  display: grid;</span></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a><span class="in">  grid-template-columns: repeat(4, minmax(0, 1fr));</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.62rem;</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-brief-card {</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #fff;</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.72rem 0.76rem;</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-brief-card h4 {</span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0 0 0.34rem;</span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.78rem;</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.05em;</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--terra);</span></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a><span class="in">  font-family: 'DM Sans', sans-serif;</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-brief-card p {</span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0;</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: none;</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.7rem;</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="in">  line-height: 1.48;</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-panel,</span></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-controls {</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #fff;</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.9rem 0.95rem;</span></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-controls {</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a><span class="in">  flex: 0 0 320px;</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 320px;</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a><span class="in">  align-self: start;</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="in">  position: sticky;</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a><span class="in">  top: 96px;</span></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-output {</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a><span class="in">  flex: 1 1 auto;</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a><span class="in">  min-width: 0;</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a><span class="in">  align-self: start;</span></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: 0;</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-controls h3,</span></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-panel h3 {</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0 0 0.6rem;</span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.98rem;</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-muted {</span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0 0 0.6rem;</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.77rem;</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a><span class="in">  line-height: 1.55;</span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: none;</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-control-group {</span></span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a><span class="in">  border-top: 1px solid var(--border);</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a><span class="in">  padding-top: 0.62rem;</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: 0.62rem;</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-control {</span></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0 0 0.62rem;</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-control:last-child {</span></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: 0;</span></span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-control label {</span></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a><span class="in">  justify-content: space-between;</span></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.5rem;</span></span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.7rem;</span></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.03em;</span></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--ink);</span></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: 0.22rem;</span></span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-control span {</span></span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--terra);</span></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a><span class="in">  font-family: 'DM Mono', monospace;</span></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-control input[type="range"] {</span></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 100%;</span></span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-control select {</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 100%;</span></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #fff;</span></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.75rem;</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--text);</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.34rem 0.45rem;</span></span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-kpis {</span></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a><span class="in">  display: grid;</span></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a><span class="in">  grid-template-columns: repeat(5, minmax(0, 1fr));</span></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.58rem;</span></span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: 0.85rem;</span></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-kpi {</span></span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a><span class="in">  background: linear-gradient(180deg, #ffffff 0%, #faf8f3 100%);</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.65rem 0.7rem;</span></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-kpi .k {</span></span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a><span class="in">  display: block;</span></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.61rem;</span></span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.1em;</span></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: 0.18rem;</span></span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-kpi .v {</span></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a><span class="in">  display: block;</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 1.02rem;</span></span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a><span class="in">  font-family: 'Playfair Display', serif;</span></span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--ink);</span></span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a><span class="in">  line-height: 1.2;</span></span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-kpi .s {</span></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a><span class="in">  display: block;</span></span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: 0.18rem;</span></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.64rem;</span></span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-grid-two {</span></span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a><span class="in">  display: grid;</span></span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a><span class="in">  grid-template-columns: 1.2fr 1fr;</span></span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.72rem;</span></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: 0.72rem;</span></span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-chart-legend {</span></span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: 0.45rem;</span></span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.6rem;</span></span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.62rem;</span></span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.06em;</span></span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-dot {</span></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a><span class="in">  display: inline-block;</span></span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 10px;</span></span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 10px;</span></span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a><span class="in">  border-radius: 50%;</span></span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-right: 0.28rem;</span></span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a><span class="in">  vertical-align: middle;</span></span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-dot.rev { background: #3f7b52; }</span></span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-dot.cost { background: #b84e16; }</span></span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-cashflow-bars {</span></span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #fbfaf7;</span></span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.68rem 0.5rem 0.35rem;</span></span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a><span class="in">  display: grid;</span></span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a><span class="in">  grid-template-columns: repeat(8, minmax(0, 1fr));</span></span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.3rem;</span></span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-year {</span></span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a><span class="in">  display: grid;</span></span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a><span class="in">  justify-items: center;</span></span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a><span class="in">  align-content: end;</span></span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.24rem;</span></span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-bar-stack {</span></span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 100%;</span></span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: 58px;</span></span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 146px;</span></span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid rgba(0, 0, 0, 0.08);</span></span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a><span class="in">  background: linear-gradient(180deg, #ffffff 0%, #f6f3ee 100%);</span></span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: end;</span></span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a><span class="in">  justify-content: center;</span></span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 4px;</span></span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 3px;</span></span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-bar {</span></span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 18px;</span></span>
<span id="cb1-341"><a href="#cb1-341" aria-hidden="true" tabindex="-1"></a><span class="in">  min-height: 3px;</span></span>
<span id="cb1-342"><a href="#cb1-342" aria-hidden="true" tabindex="-1"></a><span class="in">  border-radius: 1px 1px 0 0;</span></span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-bar.rev { background: #3f7b52; }</span></span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-bar.cost { background: #b84e16; }</span></span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-year-net {</span></span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.56rem;</span></span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.03em;</span></span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a><span class="in">  font-family: 'DM Mono', monospace;</span></span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-year-net.pos { color: #2d7d4a; }</span></span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-year-net.neg { color: #a94316; }</span></span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-year-tag {</span></span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.58rem;</span></span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.08em;</span></span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-363"><a href="#cb1-363" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-364"><a href="#cb1-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-365"><a href="#cb1-365" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-table-wrap {</span></span>
<span id="cb1-366"><a href="#cb1-366" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-367"><a href="#cb1-367" aria-hidden="true" tabindex="-1"></a><span class="in">  overflow: auto;</span></span>
<span id="cb1-368"><a href="#cb1-368" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-369"><a href="#cb1-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-370"><a href="#cb1-370" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-table,</span></span>
<span id="cb1-371"><a href="#cb1-371" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-heatmap {</span></span>
<span id="cb1-372"><a href="#cb1-372" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 100%;</span></span>
<span id="cb1-373"><a href="#cb1-373" aria-hidden="true" tabindex="-1"></a><span class="in">  border-collapse: collapse;</span></span>
<span id="cb1-374"><a href="#cb1-374" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-375"><a href="#cb1-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-376"><a href="#cb1-376" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-table th,</span></span>
<span id="cb1-377"><a href="#cb1-377" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-table td,</span></span>
<span id="cb1-378"><a href="#cb1-378" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-heatmap th,</span></span>
<span id="cb1-379"><a href="#cb1-379" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-heatmap td {</span></span>
<span id="cb1-380"><a href="#cb1-380" aria-hidden="true" tabindex="-1"></a><span class="in">  border-bottom: 1px solid var(--border);</span></span>
<span id="cb1-381"><a href="#cb1-381" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.4rem 0.42rem;</span></span>
<span id="cb1-382"><a href="#cb1-382" aria-hidden="true" tabindex="-1"></a><span class="in">  text-align: left;</span></span>
<span id="cb1-383"><a href="#cb1-383" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.67rem;</span></span>
<span id="cb1-384"><a href="#cb1-384" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-385"><a href="#cb1-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-386"><a href="#cb1-386" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-table th,</span></span>
<span id="cb1-387"><a href="#cb1-387" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-heatmap th {</span></span>
<span id="cb1-388"><a href="#cb1-388" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.58rem;</span></span>
<span id="cb1-389"><a href="#cb1-389" aria-hidden="true" tabindex="-1"></a><span class="in">  letter-spacing: 0.08em;</span></span>
<span id="cb1-390"><a href="#cb1-390" aria-hidden="true" tabindex="-1"></a><span class="in">  text-transform: uppercase;</span></span>
<span id="cb1-391"><a href="#cb1-391" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-392"><a href="#cb1-392" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #faf8f3;</span></span>
<span id="cb1-393"><a href="#cb1-393" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-394"><a href="#cb1-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-395"><a href="#cb1-395" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-table td:last-child,</span></span>
<span id="cb1-396"><a href="#cb1-396" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-table th:last-child,</span></span>
<span id="cb1-397"><a href="#cb1-397" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-heatmap td:last-child,</span></span>
<span id="cb1-398"><a href="#cb1-398" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-heatmap th:last-child {</span></span>
<span id="cb1-399"><a href="#cb1-399" aria-hidden="true" tabindex="-1"></a><span class="in">  text-align: right;</span></span>
<span id="cb1-400"><a href="#cb1-400" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-401"><a href="#cb1-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-402"><a href="#cb1-402" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-demand {</span></span>
<span id="cb1-403"><a href="#cb1-403" aria-hidden="true" tabindex="-1"></a><span class="in">  display: grid;</span></span>
<span id="cb1-404"><a href="#cb1-404" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.45rem;</span></span>
<span id="cb1-405"><a href="#cb1-405" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: 0.32rem;</span></span>
<span id="cb1-406"><a href="#cb1-406" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-407"><a href="#cb1-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-408"><a href="#cb1-408" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-demand-row {</span></span>
<span id="cb1-409"><a href="#cb1-409" aria-hidden="true" tabindex="-1"></a><span class="in">  display: grid;</span></span>
<span id="cb1-410"><a href="#cb1-410" aria-hidden="true" tabindex="-1"></a><span class="in">  grid-template-columns: 110px minmax(0, 1fr) 40px;</span></span>
<span id="cb1-411"><a href="#cb1-411" aria-hidden="true" tabindex="-1"></a><span class="in">  gap: 0.5rem;</span></span>
<span id="cb1-412"><a href="#cb1-412" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: center;</span></span>
<span id="cb1-413"><a href="#cb1-413" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-414"><a href="#cb1-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-415"><a href="#cb1-415" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-demand-row .n {</span></span>
<span id="cb1-416"><a href="#cb1-416" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.64rem;</span></span>
<span id="cb1-417"><a href="#cb1-417" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--text);</span></span>
<span id="cb1-418"><a href="#cb1-418" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-419"><a href="#cb1-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-420"><a href="#cb1-420" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-demand-track {</span></span>
<span id="cb1-421"><a href="#cb1-421" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 10px;</span></span>
<span id="cb1-422"><a href="#cb1-422" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid rgba(63, 123, 82, 0.3);</span></span>
<span id="cb1-423"><a href="#cb1-423" aria-hidden="true" tabindex="-1"></a><span class="in">  background: rgba(63, 123, 82, 0.08);</span></span>
<span id="cb1-424"><a href="#cb1-424" aria-hidden="true" tabindex="-1"></a><span class="in">  position: relative;</span></span>
<span id="cb1-425"><a href="#cb1-425" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-426"><a href="#cb1-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-427"><a href="#cb1-427" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-demand-fill {</span></span>
<span id="cb1-428"><a href="#cb1-428" aria-hidden="true" tabindex="-1"></a><span class="in">  display: block;</span></span>
<span id="cb1-429"><a href="#cb1-429" aria-hidden="true" tabindex="-1"></a><span class="in">  height: 100%;</span></span>
<span id="cb1-430"><a href="#cb1-430" aria-hidden="true" tabindex="-1"></a><span class="in">  background: linear-gradient(90deg, #2d7d4a 0%, #8ccf9b 100%);</span></span>
<span id="cb1-431"><a href="#cb1-431" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-432"><a href="#cb1-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-433"><a href="#cb1-433" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-demand-score {</span></span>
<span id="cb1-434"><a href="#cb1-434" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.64rem;</span></span>
<span id="cb1-435"><a href="#cb1-435" aria-hidden="true" tabindex="-1"></a><span class="in">  font-family: 'DM Mono', monospace;</span></span>
<span id="cb1-436"><a href="#cb1-436" aria-hidden="true" tabindex="-1"></a><span class="in">  color: #2d7d4a;</span></span>
<span id="cb1-437"><a href="#cb1-437" aria-hidden="true" tabindex="-1"></a><span class="in">  text-align: right;</span></span>
<span id="cb1-438"><a href="#cb1-438" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-439"><a href="#cb1-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-440"><a href="#cb1-440" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-reco {</span></span>
<span id="cb1-441"><a href="#cb1-441" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0.2rem 0 0;</span></span>
<span id="cb1-442"><a href="#cb1-442" aria-hidden="true" tabindex="-1"></a><span class="in">  padding-left: 1rem;</span></span>
<span id="cb1-443"><a href="#cb1-443" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-444"><a href="#cb1-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-445"><a href="#cb1-445" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-reco li {</span></span>
<span id="cb1-446"><a href="#cb1-446" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0.34rem 0;</span></span>
<span id="cb1-447"><a href="#cb1-447" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-448"><a href="#cb1-448" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.73rem;</span></span>
<span id="cb1-449"><a href="#cb1-449" aria-hidden="true" tabindex="-1"></a><span class="in">  line-height: 1.45;</span></span>
<span id="cb1-450"><a href="#cb1-450" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-451"><a href="#cb1-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-452"><a href="#cb1-452" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-boardbox {</span></span>
<span id="cb1-453"><a href="#cb1-453" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-454"><a href="#cb1-454" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #fbfaf7;</span></span>
<span id="cb1-455"><a href="#cb1-455" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.65rem;</span></span>
<span id="cb1-456"><a href="#cb1-456" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-457"><a href="#cb1-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-458"><a href="#cb1-458" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-boardtext {</span></span>
<span id="cb1-459"><a href="#cb1-459" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 100%;</span></span>
<span id="cb1-460"><a href="#cb1-460" aria-hidden="true" tabindex="-1"></a><span class="in">  min-height: 145px;</span></span>
<span id="cb1-461"><a href="#cb1-461" aria-hidden="true" tabindex="-1"></a><span class="in">  border: 1px solid var(--border);</span></span>
<span id="cb1-462"><a href="#cb1-462" aria-hidden="true" tabindex="-1"></a><span class="in">  background: #fff;</span></span>
<span id="cb1-463"><a href="#cb1-463" aria-hidden="true" tabindex="-1"></a><span class="in">  padding: 0.62rem;</span></span>
<span id="cb1-464"><a href="#cb1-464" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.7rem;</span></span>
<span id="cb1-465"><a href="#cb1-465" aria-hidden="true" tabindex="-1"></a><span class="in">  line-height: 1.46;</span></span>
<span id="cb1-466"><a href="#cb1-466" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--text);</span></span>
<span id="cb1-467"><a href="#cb1-467" aria-hidden="true" tabindex="-1"></a><span class="in">  font-family: 'DM Mono', monospace;</span></span>
<span id="cb1-468"><a href="#cb1-468" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-469"><a href="#cb1-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-470"><a href="#cb1-470" aria-hidden="true" tabindex="-1"></a><span class="in">.reba-footnote {</span></span>
<span id="cb1-471"><a href="#cb1-471" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 0.55rem 0 0;</span></span>
<span id="cb1-472"><a href="#cb1-472" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 0.62rem;</span></span>
<span id="cb1-473"><a href="#cb1-473" aria-hidden="true" tabindex="-1"></a><span class="in">  color: var(--muted);</span></span>
<span id="cb1-474"><a href="#cb1-474" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: none;</span></span>
<span id="cb1-475"><a href="#cb1-475" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-476"><a href="#cb1-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-477"><a href="#cb1-477" aria-hidden="true" tabindex="-1"></a><span class="in">@media (max-width: 1220px) {</span></span>
<span id="cb1-478"><a href="#cb1-478" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-brief-grid {</span></span>
<span id="cb1-479"><a href="#cb1-479" aria-hidden="true" tabindex="-1"></a><span class="in">    grid-template-columns: repeat(2, minmax(0, 1fr));</span></span>
<span id="cb1-480"><a href="#cb1-480" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-481"><a href="#cb1-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-482"><a href="#cb1-482" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-kpis {</span></span>
<span id="cb1-483"><a href="#cb1-483" aria-hidden="true" tabindex="-1"></a><span class="in">    grid-template-columns: repeat(3, minmax(0, 1fr));</span></span>
<span id="cb1-484"><a href="#cb1-484" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-485"><a href="#cb1-485" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-486"><a href="#cb1-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-487"><a href="#cb1-487" aria-hidden="true" tabindex="-1"></a><span class="in">@media (max-width: 980px) {</span></span>
<span id="cb1-488"><a href="#cb1-488" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-shell {</span></span>
<span id="cb1-489"><a href="#cb1-489" aria-hidden="true" tabindex="-1"></a><span class="in">    width: min(1220px, calc(100vw - 2rem));</span></span>
<span id="cb1-490"><a href="#cb1-490" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-491"><a href="#cb1-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-492"><a href="#cb1-492" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-workbench {</span></span>
<span id="cb1-493"><a href="#cb1-493" aria-hidden="true" tabindex="-1"></a><span class="in">    flex-direction: column;</span></span>
<span id="cb1-494"><a href="#cb1-494" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-495"><a href="#cb1-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-496"><a href="#cb1-496" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-controls {</span></span>
<span id="cb1-497"><a href="#cb1-497" aria-hidden="true" tabindex="-1"></a><span class="in">    width: 100%;</span></span>
<span id="cb1-498"><a href="#cb1-498" aria-hidden="true" tabindex="-1"></a><span class="in">    flex: 1 1 auto;</span></span>
<span id="cb1-499"><a href="#cb1-499" aria-hidden="true" tabindex="-1"></a><span class="in">    position: static;</span></span>
<span id="cb1-500"><a href="#cb1-500" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-501"><a href="#cb1-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-502"><a href="#cb1-502" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-grid-two {</span></span>
<span id="cb1-503"><a href="#cb1-503" aria-hidden="true" tabindex="-1"></a><span class="in">    grid-template-columns: 1fr;</span></span>
<span id="cb1-504"><a href="#cb1-504" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-505"><a href="#cb1-505" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-506"><a href="#cb1-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-507"><a href="#cb1-507" aria-hidden="true" tabindex="-1"></a><span class="in">@media (max-width: 760px) {</span></span>
<span id="cb1-508"><a href="#cb1-508" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-brief-grid {</span></span>
<span id="cb1-509"><a href="#cb1-509" aria-hidden="true" tabindex="-1"></a><span class="in">    grid-template-columns: 1fr;</span></span>
<span id="cb1-510"><a href="#cb1-510" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-511"><a href="#cb1-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-512"><a href="#cb1-512" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-toprow {</span></span>
<span id="cb1-513"><a href="#cb1-513" aria-hidden="true" tabindex="-1"></a><span class="in">    flex-direction: column;</span></span>
<span id="cb1-514"><a href="#cb1-514" aria-hidden="true" tabindex="-1"></a><span class="in">    align-items: flex-start;</span></span>
<span id="cb1-515"><a href="#cb1-515" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-516"><a href="#cb1-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-517"><a href="#cb1-517" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-btnrow {</span></span>
<span id="cb1-518"><a href="#cb1-518" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-left: 0;</span></span>
<span id="cb1-519"><a href="#cb1-519" aria-hidden="true" tabindex="-1"></a><span class="in">    width: 100%;</span></span>
<span id="cb1-520"><a href="#cb1-520" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-521"><a href="#cb1-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-522"><a href="#cb1-522" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-btnrow .reba-btn {</span></span>
<span id="cb1-523"><a href="#cb1-523" aria-hidden="true" tabindex="-1"></a><span class="in">    flex: 1;</span></span>
<span id="cb1-524"><a href="#cb1-524" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-525"><a href="#cb1-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-526"><a href="#cb1-526" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-kpis {</span></span>
<span id="cb1-527"><a href="#cb1-527" aria-hidden="true" tabindex="-1"></a><span class="in">    grid-template-columns: repeat(2, minmax(0, 1fr));</span></span>
<span id="cb1-528"><a href="#cb1-528" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-529"><a href="#cb1-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-530"><a href="#cb1-530" aria-hidden="true" tabindex="-1"></a><span class="in">  .reba-cashflow-bars {</span></span>
<span id="cb1-531"><a href="#cb1-531" aria-hidden="true" tabindex="-1"></a><span class="in">    overflow: auto;</span></span>
<span id="cb1-532"><a href="#cb1-532" aria-hidden="true" tabindex="-1"></a><span class="in">    grid-template-columns: repeat(8, 72px);</span></span>
<span id="cb1-533"><a href="#cb1-533" aria-hidden="true" tabindex="-1"></a><span class="in">    justify-content: start;</span></span>
<span id="cb1-534"><a href="#cb1-534" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-535"><a href="#cb1-535" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb1-536"><a href="#cb1-536" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb1-537"><a href="#cb1-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-538"><a href="#cb1-538" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div class="reba-shell"&gt;</span></span>
<span id="cb1-539"><a href="#cb1-539" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;section class="reba-hero"&gt;</span></span>
<span id="cb1-540"><a href="#cb1-540" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;p class="reba-eyebrow"&gt;Business Analyst Case Project&lt;/p&gt;</span></span>
<span id="cb1-541"><a href="#cb1-541" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;h1 class="reba-title"&gt;Mixed Use Development Feasibility Studio&lt;/h1&gt;</span></span>
<span id="cb1-542"><a href="#cb1-542" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;p class="reba-lead"&gt;</span></span>
<span id="cb1-543"><a href="#cb1-543" aria-hidden="true" tabindex="-1"></a><span class="in">      A live investment case dashboard built for real estate planning decisions. It combines product mix strategy,</span></span>
<span id="cb1-544"><a href="#cb1-544" aria-hidden="true" tabindex="-1"></a><span class="in">      market demand scoring, discounted cash flow modeling, sensitivity testing, and board ready reporting in one view.</span></span>
<span id="cb1-545"><a href="#cb1-545" aria-hidden="true" tabindex="-1"></a><span class="in">      This is the exact analysis workflow used to test viability before design freeze and budget approval.</span></span>
<span id="cb1-546"><a href="#cb1-546" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/p&gt;</span></span>
<span id="cb1-547"><a href="#cb1-547" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;div class="reba-toprow"&gt;</span></span>
<span id="cb1-548"><a href="#cb1-548" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;span class="reba-pill"&gt;Residential&lt;/span&gt;</span></span>
<span id="cb1-549"><a href="#cb1-549" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;span class="reba-pill"&gt;Commercial&lt;/span&gt;</span></span>
<span id="cb1-550"><a href="#cb1-550" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;span class="reba-pill"&gt;Retail&lt;/span&gt;</span></span>
<span id="cb1-551"><a href="#cb1-551" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;span class="reba-pill"&gt;Industrial&lt;/span&gt;</span></span>
<span id="cb1-552"><a href="#cb1-552" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;span class="reba-pill"&gt;DCF · NPV · IRR · ROI&lt;/span&gt;</span></span>
<span id="cb1-553"><a href="#cb1-553" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;div class="reba-btnrow"&gt;</span></span>
<span id="cb1-554"><a href="#cb1-554" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;button class="reba-btn" id="rebaResetBtn" type="button"&gt;Reset baseline&lt;/button&gt;</span></span>
<span id="cb1-555"><a href="#cb1-555" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;button class="reba-btn is-primary" id="rebaCopyBtn" type="button"&gt;Copy board summary&lt;/button&gt;</span></span>
<span id="cb1-556"><a href="#cb1-556" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/div&gt;</span></span>
<span id="cb1-557"><a href="#cb1-557" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/div&gt;</span></span>
<span id="cb1-558"><a href="#cb1-558" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/section&gt;</span></span>
<span id="cb1-559"><a href="#cb1-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-560"><a href="#cb1-560" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;section class="reba-brief-grid" aria-label="Case brief summary"&gt;</span></span>
<span id="cb1-561"><a href="#cb1-561" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;article class="reba-brief-card"&gt;</span></span>
<span id="cb1-562"><a href="#cb1-562" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;h4&gt;Data sources&lt;/h4&gt;</span></span>
<span id="cb1-563"><a href="#cb1-563" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;p&gt;Portfolio demonstration dataset built from public Kenya macro indicators, sampled property listing comparables, and structured development cost assumptions from quantity survey templates.&lt;/p&gt;</span></span>
<span id="cb1-564"><a href="#cb1-564" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/article&gt;</span></span>
<span id="cb1-565"><a href="#cb1-565" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;article class="reba-brief-card"&gt;</span></span>
<span id="cb1-566"><a href="#cb1-566" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;h4&gt;Engineering and cleaning&lt;/h4&gt;</span></span>
<span id="cb1-567"><a href="#cb1-567" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;p&gt;Data is standardized through schema checks, unit normalization, duplicate detection, outlier flags, and pricing alignment before any financial modeling is run.&lt;/p&gt;</span></span>
<span id="cb1-568"><a href="#cb1-568" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/article&gt;</span></span>
<span id="cb1-569"><a href="#cb1-569" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;article class="reba-brief-card"&gt;</span></span>
<span id="cb1-570"><a href="#cb1-570" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;h4&gt;Pipeline and analysis&lt;/h4&gt;</span></span>
<span id="cb1-571"><a href="#cb1-571" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;p&gt;Modular SQL and R style pipeline transforms source tables into scenario ready model inputs powering DCF, NPV, IRR, ROI, payback, and sensitivity analysis.&lt;/p&gt;</span></span>
<span id="cb1-572"><a href="#cb1-572" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/article&gt;</span></span>
<span id="cb1-573"><a href="#cb1-573" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;article class="reba-brief-card"&gt;</span></span>
<span id="cb1-574"><a href="#cb1-574" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;h4&gt;Stakeholder value&lt;/h4&gt;</span></span>
<span id="cb1-575"><a href="#cb1-575" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;p&gt;Creates one shared decision view for finance, planning, design, engineering, and construction teams, improving coordination, budget discipline, and return clarity.&lt;/p&gt;</span></span>
<span id="cb1-576"><a href="#cb1-576" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/article&gt;</span></span>
<span id="cb1-577"><a href="#cb1-577" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/section&gt;</span></span>
<span id="cb1-578"><a href="#cb1-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-579"><a href="#cb1-579" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;section class="reba-workbench"&gt;</span></span>
<span id="cb1-580"><a href="#cb1-580" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;aside class="reba-controls"&gt;</span></span>
<span id="cb1-581"><a href="#cb1-581" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;h3&gt;Model controls&lt;/h3&gt;</span></span>
<span id="cb1-582"><a href="#cb1-582" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;p class="reba-muted"&gt;Tune assumptions the same way a feasibility team would during investor and management review.&lt;/p&gt;</span></span>
<span id="cb1-583"><a href="#cb1-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-584"><a href="#cb1-584" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;div class="reba-control-group"&gt;</span></span>
<span id="cb1-585"><a href="#cb1-585" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-586"><a href="#cb1-586" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaArea"&gt;Development area sqm &lt;span id="rebaAreaOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-587"><a href="#cb1-587" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="rebaArea" type="range" min="70000" max="260000" step="5000" value="150000" /&gt;</span></span>
<span id="cb1-588"><a href="#cb1-588" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-589"><a href="#cb1-589" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-590"><a href="#cb1-590" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaLandCost"&gt;Land cost per sqm KES &lt;span id="rebaLandCostOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-591"><a href="#cb1-591" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="rebaLandCost" type="range" min="4000" max="18000" step="500" value="8500" /&gt;</span></span>
<span id="cb1-592"><a href="#cb1-592" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-593"><a href="#cb1-593" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-594"><a href="#cb1-594" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaDiscount"&gt;Discount rate &lt;span id="rebaDiscountOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-595"><a href="#cb1-595" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="rebaDiscount" type="range" min="8" max="24" step="0.5" value="14" /&gt;</span></span>
<span id="cb1-596"><a href="#cb1-596" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-597"><a href="#cb1-597" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-598"><a href="#cb1-598" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaFinanceRate"&gt;Finance cost rate &lt;span id="rebaFinanceRateOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-599"><a href="#cb1-599" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="rebaFinanceRate" type="range" min="2" max="16" step="0.5" value="7.5" /&gt;</span></span>
<span id="cb1-600"><a href="#cb1-600" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-601"><a href="#cb1-601" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-602"><a href="#cb1-602" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaAbsorption"&gt;Absorption period years &lt;span id="rebaAbsorptionOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-603"><a href="#cb1-603" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="rebaAbsorption" type="range" min="4" max="9" step="1" value="6" /&gt;</span></span>
<span id="cb1-604"><a href="#cb1-604" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-605"><a href="#cb1-605" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-606"><a href="#cb1-606" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaPriceAdj"&gt;Pricing shock &lt;span id="rebaPriceAdjOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-607"><a href="#cb1-607" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="rebaPriceAdj" type="range" min="80" max="125" step="1" value="100" /&gt;</span></span>
<span id="cb1-608"><a href="#cb1-608" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-609"><a href="#cb1-609" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-610"><a href="#cb1-610" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaCostAdj"&gt;Construction cost shock &lt;span id="rebaCostAdjOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-611"><a href="#cb1-611" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="rebaCostAdj" type="range" min="80" max="125" step="1" value="100" /&gt;</span></span>
<span id="cb1-612"><a href="#cb1-612" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-613"><a href="#cb1-613" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-614"><a href="#cb1-614" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="rebaProfile"&gt;Capex curve&lt;/label&gt;</span></span>
<span id="cb1-615"><a href="#cb1-615" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;select id="rebaProfile"&gt;</span></span>
<span id="cb1-616"><a href="#cb1-616" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;option value="front"&gt;Front loaded&lt;/option&gt;</span></span>
<span id="cb1-617"><a href="#cb1-617" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;option value="balanced" selected&gt;Balanced&lt;/option&gt;</span></span>
<span id="cb1-618"><a href="#cb1-618" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;option value="back"&gt;Back loaded&lt;/option&gt;</span></span>
<span id="cb1-619"><a href="#cb1-619" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;/select&gt;</span></span>
<span id="cb1-620"><a href="#cb1-620" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-621"><a href="#cb1-621" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/div&gt;</span></span>
<span id="cb1-622"><a href="#cb1-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-623"><a href="#cb1-623" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;div class="reba-control-group"&gt;</span></span>
<span id="cb1-624"><a href="#cb1-624" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;p class="reba-muted" style="margin-bottom:0.45rem;"&gt;Product mix raw sliders. The model auto normalizes to 100 percent.&lt;/p&gt;</span></span>
<span id="cb1-625"><a href="#cb1-625" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-626"><a href="#cb1-626" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="mixResidential"&gt;Residential share &lt;span id="mixResidentialOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-627"><a href="#cb1-627" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="mixResidential" type="range" min="0" max="100" step="1" value="42" /&gt;</span></span>
<span id="cb1-628"><a href="#cb1-628" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-629"><a href="#cb1-629" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-630"><a href="#cb1-630" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="mixCommercial"&gt;Commercial share &lt;span id="mixCommercialOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-631"><a href="#cb1-631" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="mixCommercial" type="range" min="0" max="100" step="1" value="24" /&gt;</span></span>
<span id="cb1-632"><a href="#cb1-632" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-633"><a href="#cb1-633" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-634"><a href="#cb1-634" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="mixRetail"&gt;Retail share &lt;span id="mixRetailOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-635"><a href="#cb1-635" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="mixRetail" type="range" min="0" max="100" step="1" value="17" /&gt;</span></span>
<span id="cb1-636"><a href="#cb1-636" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-637"><a href="#cb1-637" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-control"&gt;</span></span>
<span id="cb1-638"><a href="#cb1-638" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;label for="mixIndustrial"&gt;Industrial share &lt;span id="mixIndustrialOut"&gt;&lt;/span&gt;&lt;/label&gt;</span></span>
<span id="cb1-639"><a href="#cb1-639" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;input id="mixIndustrial" type="range" min="0" max="100" step="1" value="17" /&gt;</span></span>
<span id="cb1-640"><a href="#cb1-640" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-641"><a href="#cb1-641" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/div&gt;</span></span>
<span id="cb1-642"><a href="#cb1-642" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/aside&gt;</span></span>
<span id="cb1-643"><a href="#cb1-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-644"><a href="#cb1-644" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;div class="reba-output"&gt;</span></span>
<span id="cb1-645"><a href="#cb1-645" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;section class="reba-kpis" aria-label="Core financial outputs"&gt;</span></span>
<span id="cb1-646"><a href="#cb1-646" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-kpi"&gt;</span></span>
<span id="cb1-647"><a href="#cb1-647" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="k"&gt;NPV&lt;/span&gt;</span></span>
<span id="cb1-648"><a href="#cb1-648" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="v" id="kpiNpv"&gt;...&lt;/span&gt;</span></span>
<span id="cb1-649"><a href="#cb1-649" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="s"&gt;Discounted value at selected rate&lt;/span&gt;</span></span>
<span id="cb1-650"><a href="#cb1-650" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-651"><a href="#cb1-651" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-kpi"&gt;</span></span>
<span id="cb1-652"><a href="#cb1-652" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="k"&gt;IRR&lt;/span&gt;</span></span>
<span id="cb1-653"><a href="#cb1-653" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="v" id="kpiIrr"&gt;...&lt;/span&gt;</span></span>
<span id="cb1-654"><a href="#cb1-654" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="s"&gt;Internal return from model cash flow&lt;/span&gt;</span></span>
<span id="cb1-655"><a href="#cb1-655" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-656"><a href="#cb1-656" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-kpi"&gt;</span></span>
<span id="cb1-657"><a href="#cb1-657" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="k"&gt;ROI&lt;/span&gt;</span></span>
<span id="cb1-658"><a href="#cb1-658" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="v" id="kpiRoi"&gt;...&lt;/span&gt;</span></span>
<span id="cb1-659"><a href="#cb1-659" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="s"&gt;Profit on total development cost&lt;/span&gt;</span></span>
<span id="cb1-660"><a href="#cb1-660" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-661"><a href="#cb1-661" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-kpi"&gt;</span></span>
<span id="cb1-662"><a href="#cb1-662" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="k"&gt;Payback&lt;/span&gt;</span></span>
<span id="cb1-663"><a href="#cb1-663" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="v" id="kpiPayback"&gt;...&lt;/span&gt;</span></span>
<span id="cb1-664"><a href="#cb1-664" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="s"&gt;Year cumulative cash flow turns positive&lt;/span&gt;</span></span>
<span id="cb1-665"><a href="#cb1-665" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-666"><a href="#cb1-666" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-kpi"&gt;</span></span>
<span id="cb1-667"><a href="#cb1-667" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="k"&gt;Total gross sales&lt;/span&gt;</span></span>
<span id="cb1-668"><a href="#cb1-668" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="v" id="kpiSales"&gt;...&lt;/span&gt;</span></span>
<span id="cb1-669"><a href="#cb1-669" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;span class="s"&gt;Portfolio revenue across asset classes&lt;/span&gt;</span></span>
<span id="cb1-670"><a href="#cb1-670" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-671"><a href="#cb1-671" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/section&gt;</span></span>
<span id="cb1-672"><a href="#cb1-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-673"><a href="#cb1-673" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;section class="reba-grid-two"&gt;</span></span>
<span id="cb1-674"><a href="#cb1-674" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-panel"&gt;</span></span>
<span id="cb1-675"><a href="#cb1-675" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;h3&gt;Eight year cash flow&lt;/h3&gt;</span></span>
<span id="cb1-676"><a href="#cb1-676" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;p class="reba-muted"&gt;Revenue and cost per year with net signal for phasing and funding pressure.&lt;/p&gt;</span></span>
<span id="cb1-677"><a href="#cb1-677" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;div class="reba-cashflow-bars" id="rebaCashflowBars" aria-label="Cash flow bars"&gt;&lt;/div&gt;</span></span>
<span id="cb1-678"><a href="#cb1-678" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;div class="reba-chart-legend"&gt;</span></span>
<span id="cb1-679"><a href="#cb1-679" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;span&gt;&lt;i class="reba-dot rev"&gt;&lt;/i&gt;Revenue&lt;/span&gt;</span></span>
<span id="cb1-680"><a href="#cb1-680" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;span&gt;&lt;i class="reba-dot cost"&gt;&lt;/i&gt;Cost&lt;/span&gt;</span></span>
<span id="cb1-681"><a href="#cb1-681" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;/div&gt;</span></span>
<span id="cb1-682"><a href="#cb1-682" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-683"><a href="#cb1-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-684"><a href="#cb1-684" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-panel"&gt;</span></span>
<span id="cb1-685"><a href="#cb1-685" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;h3&gt;Product mix and margin&lt;/h3&gt;</span></span>
<span id="cb1-686"><a href="#cb1-686" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;p class="reba-muted"&gt;Normalized mix, pricing assumptions, and gross margin by asset class.&lt;/p&gt;</span></span>
<span id="cb1-687"><a href="#cb1-687" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;div class="reba-table-wrap"&gt;</span></span>
<span id="cb1-688"><a href="#cb1-688" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;table class="reba-table"&gt;</span></span>
<span id="cb1-689"><a href="#cb1-689" aria-hidden="true" tabindex="-1"></a><span class="in">              &lt;thead&gt;</span></span>
<span id="cb1-690"><a href="#cb1-690" aria-hidden="true" tabindex="-1"></a><span class="in">                &lt;tr&gt;</span></span>
<span id="cb1-691"><a href="#cb1-691" aria-hidden="true" tabindex="-1"></a><span class="in">                  &lt;th&gt;Asset class&lt;/th&gt;</span></span>
<span id="cb1-692"><a href="#cb1-692" aria-hidden="true" tabindex="-1"></a><span class="in">                  &lt;th&gt;Share&lt;/th&gt;</span></span>
<span id="cb1-693"><a href="#cb1-693" aria-hidden="true" tabindex="-1"></a><span class="in">                  &lt;th&gt;Avg price&lt;/th&gt;</span></span>
<span id="cb1-694"><a href="#cb1-694" aria-hidden="true" tabindex="-1"></a><span class="in">                  &lt;th&gt;Avg cost&lt;/th&gt;</span></span>
<span id="cb1-695"><a href="#cb1-695" aria-hidden="true" tabindex="-1"></a><span class="in">                  &lt;th&gt;Gross margin&lt;/th&gt;</span></span>
<span id="cb1-696"><a href="#cb1-696" aria-hidden="true" tabindex="-1"></a><span class="in">                &lt;/tr&gt;</span></span>
<span id="cb1-697"><a href="#cb1-697" aria-hidden="true" tabindex="-1"></a><span class="in">              &lt;/thead&gt;</span></span>
<span id="cb1-698"><a href="#cb1-698" aria-hidden="true" tabindex="-1"></a><span class="in">              &lt;tbody id="rebaMixBody"&gt;&lt;/tbody&gt;</span></span>
<span id="cb1-699"><a href="#cb1-699" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;/table&gt;</span></span>
<span id="cb1-700"><a href="#cb1-700" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;/div&gt;</span></span>
<span id="cb1-701"><a href="#cb1-701" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-702"><a href="#cb1-702" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/section&gt;</span></span>
<span id="cb1-703"><a href="#cb1-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-704"><a href="#cb1-704" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;section class="reba-grid-two"&gt;</span></span>
<span id="cb1-705"><a href="#cb1-705" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-panel"&gt;</span></span>
<span id="cb1-706"><a href="#cb1-706" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;h3&gt;Sensitivity matrix&lt;/h3&gt;</span></span>
<span id="cb1-707"><a href="#cb1-707" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;p class="reba-muted"&gt;NPV stress test across combined price and cost shocks.&lt;/p&gt;</span></span>
<span id="cb1-708"><a href="#cb1-708" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;div class="reba-table-wrap"&gt;</span></span>
<span id="cb1-709"><a href="#cb1-709" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;table class="reba-heatmap"&gt;</span></span>
<span id="cb1-710"><a href="#cb1-710" aria-hidden="true" tabindex="-1"></a><span class="in">              &lt;thead id="rebaHeatmapHead"&gt;</span></span>
<span id="cb1-711"><a href="#cb1-711" aria-hidden="true" tabindex="-1"></a><span class="in">                &lt;tr&gt;&lt;th&gt;Cost \ Price&lt;/th&gt;&lt;th&gt;Loading&lt;/th&gt;&lt;/tr&gt;</span></span>
<span id="cb1-712"><a href="#cb1-712" aria-hidden="true" tabindex="-1"></a><span class="in">              &lt;/thead&gt;</span></span>
<span id="cb1-713"><a href="#cb1-713" aria-hidden="true" tabindex="-1"></a><span class="in">              &lt;tbody id="rebaHeatmapBody"&gt;</span></span>
<span id="cb1-714"><a href="#cb1-714" aria-hidden="true" tabindex="-1"></a><span class="in">                &lt;tr&gt;&lt;th&gt;0%&lt;/th&gt;&lt;td&gt;Loading model&lt;/td&gt;&lt;/tr&gt;</span></span>
<span id="cb1-715"><a href="#cb1-715" aria-hidden="true" tabindex="-1"></a><span class="in">              &lt;/tbody&gt;</span></span>
<span id="cb1-716"><a href="#cb1-716" aria-hidden="true" tabindex="-1"></a><span class="in">            &lt;/table&gt;</span></span>
<span id="cb1-717"><a href="#cb1-717" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;/div&gt;</span></span>
<span id="cb1-718"><a href="#cb1-718" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-719"><a href="#cb1-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-720"><a href="#cb1-720" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;article class="reba-panel"&gt;</span></span>
<span id="cb1-721"><a href="#cb1-721" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;h3&gt;Market pulse and recommendations&lt;/h3&gt;</span></span>
<span id="cb1-722"><a href="#cb1-722" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;p class="reba-muted"&gt;Demand index is adjusted by pricing pressure and mix concentration risk.&lt;/p&gt;</span></span>
<span id="cb1-723"><a href="#cb1-723" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;div class="reba-demand" id="rebaDemandBars"&gt;&lt;/div&gt;</span></span>
<span id="cb1-724"><a href="#cb1-724" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;ul class="reba-reco" id="rebaRecommendations"&gt;&lt;/ul&gt;</span></span>
<span id="cb1-725"><a href="#cb1-725" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/article&gt;</span></span>
<span id="cb1-726"><a href="#cb1-726" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/section&gt;</span></span>
<span id="cb1-727"><a href="#cb1-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-728"><a href="#cb1-728" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;article class="reba-panel"&gt;</span></span>
<span id="cb1-729"><a href="#cb1-729" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;h3&gt;Board brief draft&lt;/h3&gt;</span></span>
<span id="cb1-730"><a href="#cb1-730" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;p class="reba-muted"&gt;Auto generated talking points for investor, lender, and management presentation.&lt;/p&gt;</span></span>
<span id="cb1-731"><a href="#cb1-731" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;div class="reba-boardbox"&gt;</span></span>
<span id="cb1-732"><a href="#cb1-732" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;textarea id="rebaBoardText" class="reba-boardtext" readonly&gt;&lt;/textarea&gt;</span></span>
<span id="cb1-733"><a href="#cb1-733" aria-hidden="true" tabindex="-1"></a><span class="in">          &lt;p class="reba-footnote"&gt;Scenario values are illustrative for portfolio demonstration. Replace assumptions with verified site data before investment approval.&lt;/p&gt;</span></span>
<span id="cb1-734"><a href="#cb1-734" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;/div&gt;</span></span>
<span id="cb1-735"><a href="#cb1-735" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/article&gt;</span></span>
<span id="cb1-736"><a href="#cb1-736" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/div&gt;</span></span>
<span id="cb1-737"><a href="#cb1-737" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/section&gt;</span></span>
<span id="cb1-738"><a href="#cb1-738" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb1-739"><a href="#cb1-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-740"><a href="#cb1-740" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;script&gt;</span></span>
<span id="cb1-741"><a href="#cb1-741" aria-hidden="true" tabindex="-1"></a><span class="in">(function() {</span></span>
<span id="cb1-742"><a href="#cb1-742" aria-hidden="true" tabindex="-1"></a><span class="in">  var assets = [</span></span>
<span id="cb1-743"><a href="#cb1-743" aria-hidden="true" tabindex="-1"></a><span class="in">    { id: 'residential', label: 'Residential', price: 92000, cost: 56000, baseDemand: 82, targetShare: 0.42 },</span></span>
<span id="cb1-744"><a href="#cb1-744" aria-hidden="true" tabindex="-1"></a><span class="in">    { id: 'commercial', label: 'Commercial', price: 118000, cost: 74000, baseDemand: 68, targetShare: 0.24 },</span></span>
<span id="cb1-745"><a href="#cb1-745" aria-hidden="true" tabindex="-1"></a><span class="in">    { id: 'retail', label: 'Retail', price: 132000, cost: 86000, baseDemand: 64, targetShare: 0.17 },</span></span>
<span id="cb1-746"><a href="#cb1-746" aria-hidden="true" tabindex="-1"></a><span class="in">    { id: 'industrial', label: 'Industrial', price: 78000, cost: 51000, baseDemand: 74, targetShare: 0.17 }</span></span>
<span id="cb1-747"><a href="#cb1-747" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb1-748"><a href="#cb1-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-749"><a href="#cb1-749" aria-hidden="true" tabindex="-1"></a><span class="in">  var capexProfiles = {</span></span>
<span id="cb1-750"><a href="#cb1-750" aria-hidden="true" tabindex="-1"></a><span class="in">    front: [0.34, 0.27, 0.16, 0.11, 0.06, 0.03, 0.02, 0.01],</span></span>
<span id="cb1-751"><a href="#cb1-751" aria-hidden="true" tabindex="-1"></a><span class="in">    balanced: [0.24, 0.22, 0.18, 0.13, 0.10, 0.07, 0.04, 0.02],</span></span>
<span id="cb1-752"><a href="#cb1-752" aria-hidden="true" tabindex="-1"></a><span class="in">    back: [0.16, 0.18, 0.17, 0.16, 0.14, 0.10, 0.06, 0.03]</span></span>
<span id="cb1-753"><a href="#cb1-753" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb1-754"><a href="#cb1-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-755"><a href="#cb1-755" aria-hidden="true" tabindex="-1"></a><span class="in">  var defaults = {</span></span>
<span id="cb1-756"><a href="#cb1-756" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaArea: 150000,</span></span>
<span id="cb1-757"><a href="#cb1-757" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaLandCost: 8500,</span></span>
<span id="cb1-758"><a href="#cb1-758" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaDiscount: 14,</span></span>
<span id="cb1-759"><a href="#cb1-759" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaFinanceRate: 7.5,</span></span>
<span id="cb1-760"><a href="#cb1-760" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaAbsorption: 6,</span></span>
<span id="cb1-761"><a href="#cb1-761" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaPriceAdj: 100,</span></span>
<span id="cb1-762"><a href="#cb1-762" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaCostAdj: 100,</span></span>
<span id="cb1-763"><a href="#cb1-763" aria-hidden="true" tabindex="-1"></a><span class="in">    rebaProfile: 'balanced',</span></span>
<span id="cb1-764"><a href="#cb1-764" aria-hidden="true" tabindex="-1"></a><span class="in">    mixResidential: 42,</span></span>
<span id="cb1-765"><a href="#cb1-765" aria-hidden="true" tabindex="-1"></a><span class="in">    mixCommercial: 24,</span></span>
<span id="cb1-766"><a href="#cb1-766" aria-hidden="true" tabindex="-1"></a><span class="in">    mixRetail: 17,</span></span>
<span id="cb1-767"><a href="#cb1-767" aria-hidden="true" tabindex="-1"></a><span class="in">    mixIndustrial: 17</span></span>
<span id="cb1-768"><a href="#cb1-768" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb1-769"><a href="#cb1-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-770"><a href="#cb1-770" aria-hidden="true" tabindex="-1"></a><span class="in">  var inputIds = [</span></span>
<span id="cb1-771"><a href="#cb1-771" aria-hidden="true" tabindex="-1"></a><span class="in">    'rebaArea', 'rebaLandCost', 'rebaDiscount', 'rebaFinanceRate',</span></span>
<span id="cb1-772"><a href="#cb1-772" aria-hidden="true" tabindex="-1"></a><span class="in">    'rebaAbsorption', 'rebaPriceAdj', 'rebaCostAdj', 'rebaProfile',</span></span>
<span id="cb1-773"><a href="#cb1-773" aria-hidden="true" tabindex="-1"></a><span class="in">    'mixResidential', 'mixCommercial', 'mixRetail', 'mixIndustrial'</span></span>
<span id="cb1-774"><a href="#cb1-774" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb1-775"><a href="#cb1-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-776"><a href="#cb1-776" aria-hidden="true" tabindex="-1"></a><span class="in">  var outIds = [</span></span>
<span id="cb1-777"><a href="#cb1-777" aria-hidden="true" tabindex="-1"></a><span class="in">    'rebaAreaOut', 'rebaLandCostOut', 'rebaDiscountOut', 'rebaFinanceRateOut',</span></span>
<span id="cb1-778"><a href="#cb1-778" aria-hidden="true" tabindex="-1"></a><span class="in">    'rebaAbsorptionOut', 'rebaPriceAdjOut', 'rebaCostAdjOut',</span></span>
<span id="cb1-779"><a href="#cb1-779" aria-hidden="true" tabindex="-1"></a><span class="in">    'mixResidentialOut', 'mixCommercialOut', 'mixRetailOut', 'mixIndustrialOut'</span></span>
<span id="cb1-780"><a href="#cb1-780" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb1-781"><a href="#cb1-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-782"><a href="#cb1-782" aria-hidden="true" tabindex="-1"></a><span class="in">  function byId(id) {</span></span>
<span id="cb1-783"><a href="#cb1-783" aria-hidden="true" tabindex="-1"></a><span class="in">    return document.getElementById(id);</span></span>
<span id="cb1-784"><a href="#cb1-784" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-785"><a href="#cb1-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-786"><a href="#cb1-786" aria-hidden="true" tabindex="-1"></a><span class="in">  function clamp(n, min, max) {</span></span>
<span id="cb1-787"><a href="#cb1-787" aria-hidden="true" tabindex="-1"></a><span class="in">    return Math.max(min, Math.min(max, n));</span></span>
<span id="cb1-788"><a href="#cb1-788" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-789"><a href="#cb1-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-790"><a href="#cb1-790" aria-hidden="true" tabindex="-1"></a><span class="in">  function shortMoney(value) {</span></span>
<span id="cb1-791"><a href="#cb1-791" aria-hidden="true" tabindex="-1"></a><span class="in">    var sign = value &lt; 0 ? '-' : '';</span></span>
<span id="cb1-792"><a href="#cb1-792" aria-hidden="true" tabindex="-1"></a><span class="in">    var abs = Math.abs(value);</span></span>
<span id="cb1-793"><a href="#cb1-793" aria-hidden="true" tabindex="-1"></a><span class="in">    if (abs &gt;= 1000000000) return sign + 'KES ' + (abs / 1000000000).toFixed(2) + 'B';</span></span>
<span id="cb1-794"><a href="#cb1-794" aria-hidden="true" tabindex="-1"></a><span class="in">    if (abs &gt;= 1000000) return sign + 'KES ' + (abs / 1000000).toFixed(1) + 'M';</span></span>
<span id="cb1-795"><a href="#cb1-795" aria-hidden="true" tabindex="-1"></a><span class="in">    return sign + 'KES ' + abs.toFixed(0);</span></span>
<span id="cb1-796"><a href="#cb1-796" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-797"><a href="#cb1-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-798"><a href="#cb1-798" aria-hidden="true" tabindex="-1"></a><span class="in">  function percent(v, digits) {</span></span>
<span id="cb1-799"><a href="#cb1-799" aria-hidden="true" tabindex="-1"></a><span class="in">    return (v * 100).toFixed(digits == null ? 1 : digits) + '%';</span></span>
<span id="cb1-800"><a href="#cb1-800" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-801"><a href="#cb1-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-802"><a href="#cb1-802" aria-hidden="true" tabindex="-1"></a><span class="in">  function normalizeShares(raw) {</span></span>
<span id="cb1-803"><a href="#cb1-803" aria-hidden="true" tabindex="-1"></a><span class="in">    var sum = raw.reduce(function(acc, v) { return acc + v; }, 0);</span></span>
<span id="cb1-804"><a href="#cb1-804" aria-hidden="true" tabindex="-1"></a><span class="in">    if (sum &lt;= 0) {</span></span>
<span id="cb1-805"><a href="#cb1-805" aria-hidden="true" tabindex="-1"></a><span class="in">      return [0.42, 0.24, 0.17, 0.17];</span></span>
<span id="cb1-806"><a href="#cb1-806" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-807"><a href="#cb1-807" aria-hidden="true" tabindex="-1"></a><span class="in">    return raw.map(function(v) { return v / sum; });</span></span>
<span id="cb1-808"><a href="#cb1-808" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-809"><a href="#cb1-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-810"><a href="#cb1-810" aria-hidden="true" tabindex="-1"></a><span class="in">  function buildSalesCurve(absorptionYears, weightedDemand) {</span></span>
<span id="cb1-811"><a href="#cb1-811" aria-hidden="true" tabindex="-1"></a><span class="in">    var horizon = 8;</span></span>
<span id="cb1-812"><a href="#cb1-812" aria-hidden="true" tabindex="-1"></a><span class="in">    var demandFactor = clamp(weightedDemand / 72, 0.72, 1.25);</span></span>
<span id="cb1-813"><a href="#cb1-813" aria-hidden="true" tabindex="-1"></a><span class="in">    var k = 1 + (1 - demandFactor) * 0.8;</span></span>
<span id="cb1-814"><a href="#cb1-814" aria-hidden="true" tabindex="-1"></a><span class="in">    var curve = [];</span></span>
<span id="cb1-815"><a href="#cb1-815" aria-hidden="true" tabindex="-1"></a><span class="in">    for (var year = 1; year &lt;= horizon; year++) {</span></span>
<span id="cb1-816"><a href="#cb1-816" aria-hidden="true" tabindex="-1"></a><span class="in">      var ramp = 1 / (1 + Math.exp(-((year - (absorptionYears * 0.55)) / k)));</span></span>
<span id="cb1-817"><a href="#cb1-817" aria-hidden="true" tabindex="-1"></a><span class="in">      var tail = 1 / (1 + Math.exp(((year - absorptionYears - 0.7) / 1.05)));</span></span>
<span id="cb1-818"><a href="#cb1-818" aria-hidden="true" tabindex="-1"></a><span class="in">      var value = (ramp * tail) + 0.02;</span></span>
<span id="cb1-819"><a href="#cb1-819" aria-hidden="true" tabindex="-1"></a><span class="in">      curve.push(Math.max(0.015, value));</span></span>
<span id="cb1-820"><a href="#cb1-820" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-821"><a href="#cb1-821" aria-hidden="true" tabindex="-1"></a><span class="in">    var sum = curve.reduce(function(acc, v) { return acc + v; }, 0);</span></span>
<span id="cb1-822"><a href="#cb1-822" aria-hidden="true" tabindex="-1"></a><span class="in">    return curve.map(function(v) { return v / sum; });</span></span>
<span id="cb1-823"><a href="#cb1-823" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-824"><a href="#cb1-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-825"><a href="#cb1-825" aria-hidden="true" tabindex="-1"></a><span class="in">  function npvFromRate(cashflows, rate) {</span></span>
<span id="cb1-826"><a href="#cb1-826" aria-hidden="true" tabindex="-1"></a><span class="in">    var total = 0;</span></span>
<span id="cb1-827"><a href="#cb1-827" aria-hidden="true" tabindex="-1"></a><span class="in">    for (var i = 0; i &lt; cashflows.length; i++) {</span></span>
<span id="cb1-828"><a href="#cb1-828" aria-hidden="true" tabindex="-1"></a><span class="in">      total += cashflows[i] / Math.pow(1 + rate, i + 1);</span></span>
<span id="cb1-829"><a href="#cb1-829" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-830"><a href="#cb1-830" aria-hidden="true" tabindex="-1"></a><span class="in">    return total;</span></span>
<span id="cb1-831"><a href="#cb1-831" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-832"><a href="#cb1-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-833"><a href="#cb1-833" aria-hidden="true" tabindex="-1"></a><span class="in">  function irr(cashflows) {</span></span>
<span id="cb1-834"><a href="#cb1-834" aria-hidden="true" tabindex="-1"></a><span class="in">    var min = -0.9;</span></span>
<span id="cb1-835"><a href="#cb1-835" aria-hidden="true" tabindex="-1"></a><span class="in">    var max = 1.8;</span></span>
<span id="cb1-836"><a href="#cb1-836" aria-hidden="true" tabindex="-1"></a><span class="in">    var npvMin = npvFromRate(cashflows, min);</span></span>
<span id="cb1-837"><a href="#cb1-837" aria-hidden="true" tabindex="-1"></a><span class="in">    var npvMax = npvFromRate(cashflows, max);</span></span>
<span id="cb1-838"><a href="#cb1-838" aria-hidden="true" tabindex="-1"></a><span class="in">    if (npvMin * npvMax &gt; 0) return null;</span></span>
<span id="cb1-839"><a href="#cb1-839" aria-hidden="true" tabindex="-1"></a><span class="in">    for (var i = 0; i &lt; 130; i++) {</span></span>
<span id="cb1-840"><a href="#cb1-840" aria-hidden="true" tabindex="-1"></a><span class="in">      var mid = (min + max) / 2;</span></span>
<span id="cb1-841"><a href="#cb1-841" aria-hidden="true" tabindex="-1"></a><span class="in">      var npvMid = npvFromRate(cashflows, mid);</span></span>
<span id="cb1-842"><a href="#cb1-842" aria-hidden="true" tabindex="-1"></a><span class="in">      if (npvMid === 0) return mid;</span></span>
<span id="cb1-843"><a href="#cb1-843" aria-hidden="true" tabindex="-1"></a><span class="in">      if (npvMid * npvMin &gt; 0) {</span></span>
<span id="cb1-844"><a href="#cb1-844" aria-hidden="true" tabindex="-1"></a><span class="in">        min = mid;</span></span>
<span id="cb1-845"><a href="#cb1-845" aria-hidden="true" tabindex="-1"></a><span class="in">        npvMin = npvMid;</span></span>
<span id="cb1-846"><a href="#cb1-846" aria-hidden="true" tabindex="-1"></a><span class="in">      } else {</span></span>
<span id="cb1-847"><a href="#cb1-847" aria-hidden="true" tabindex="-1"></a><span class="in">        max = mid;</span></span>
<span id="cb1-848"><a href="#cb1-848" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb1-849"><a href="#cb1-849" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-850"><a href="#cb1-850" aria-hidden="true" tabindex="-1"></a><span class="in">    return (min + max) / 2;</span></span>
<span id="cb1-851"><a href="#cb1-851" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-852"><a href="#cb1-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-853"><a href="#cb1-853" aria-hidden="true" tabindex="-1"></a><span class="in">  function gatherInputs() {</span></span>
<span id="cb1-854"><a href="#cb1-854" aria-hidden="true" tabindex="-1"></a><span class="in">    return {</span></span>
<span id="cb1-855"><a href="#cb1-855" aria-hidden="true" tabindex="-1"></a><span class="in">      area: Number(byId('rebaArea').value),</span></span>
<span id="cb1-856"><a href="#cb1-856" aria-hidden="true" tabindex="-1"></a><span class="in">      landCost: Number(byId('rebaLandCost').value),</span></span>
<span id="cb1-857"><a href="#cb1-857" aria-hidden="true" tabindex="-1"></a><span class="in">      discountRate: Number(byId('rebaDiscount').value) / 100,</span></span>
<span id="cb1-858"><a href="#cb1-858" aria-hidden="true" tabindex="-1"></a><span class="in">      financeRate: Number(byId('rebaFinanceRate').value) / 100,</span></span>
<span id="cb1-859"><a href="#cb1-859" aria-hidden="true" tabindex="-1"></a><span class="in">      absorptionYears: Number(byId('rebaAbsorption').value),</span></span>
<span id="cb1-860"><a href="#cb1-860" aria-hidden="true" tabindex="-1"></a><span class="in">      priceAdj: Number(byId('rebaPriceAdj').value) / 100,</span></span>
<span id="cb1-861"><a href="#cb1-861" aria-hidden="true" tabindex="-1"></a><span class="in">      costAdj: Number(byId('rebaCostAdj').value) / 100,</span></span>
<span id="cb1-862"><a href="#cb1-862" aria-hidden="true" tabindex="-1"></a><span class="in">      capexProfile: byId('rebaProfile').value,</span></span>
<span id="cb1-863"><a href="#cb1-863" aria-hidden="true" tabindex="-1"></a><span class="in">      rawShares: [</span></span>
<span id="cb1-864"><a href="#cb1-864" aria-hidden="true" tabindex="-1"></a><span class="in">        Number(byId('mixResidential').value),</span></span>
<span id="cb1-865"><a href="#cb1-865" aria-hidden="true" tabindex="-1"></a><span class="in">        Number(byId('mixCommercial').value),</span></span>
<span id="cb1-866"><a href="#cb1-866" aria-hidden="true" tabindex="-1"></a><span class="in">        Number(byId('mixRetail').value),</span></span>
<span id="cb1-867"><a href="#cb1-867" aria-hidden="true" tabindex="-1"></a><span class="in">        Number(byId('mixIndustrial').value)</span></span>
<span id="cb1-868"><a href="#cb1-868" aria-hidden="true" tabindex="-1"></a><span class="in">      ]</span></span>
<span id="cb1-869"><a href="#cb1-869" aria-hidden="true" tabindex="-1"></a><span class="in">    };</span></span>
<span id="cb1-870"><a href="#cb1-870" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-871"><a href="#cb1-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-872"><a href="#cb1-872" aria-hidden="true" tabindex="-1"></a><span class="in">  function runModel(params, override) {</span></span>
<span id="cb1-873"><a href="#cb1-873" aria-hidden="true" tabindex="-1"></a><span class="in">    var area = override &amp;&amp; override.area != null ? override.area : params.area;</span></span>
<span id="cb1-874"><a href="#cb1-874" aria-hidden="true" tabindex="-1"></a><span class="in">    var landCost = override &amp;&amp; override.landCost != null ? override.landCost : params.landCost;</span></span>
<span id="cb1-875"><a href="#cb1-875" aria-hidden="true" tabindex="-1"></a><span class="in">    var discountRate = override &amp;&amp; override.discountRate != null ? override.discountRate : params.discountRate;</span></span>
<span id="cb1-876"><a href="#cb1-876" aria-hidden="true" tabindex="-1"></a><span class="in">    var financeRate = override &amp;&amp; override.financeRate != null ? override.financeRate : params.financeRate;</span></span>
<span id="cb1-877"><a href="#cb1-877" aria-hidden="true" tabindex="-1"></a><span class="in">    var absorptionYears = override &amp;&amp; override.absorptionYears != null ? override.absorptionYears : params.absorptionYears;</span></span>
<span id="cb1-878"><a href="#cb1-878" aria-hidden="true" tabindex="-1"></a><span class="in">    var priceAdj = override &amp;&amp; override.priceAdj != null ? override.priceAdj : params.priceAdj;</span></span>
<span id="cb1-879"><a href="#cb1-879" aria-hidden="true" tabindex="-1"></a><span class="in">    var costAdj = override &amp;&amp; override.costAdj != null ? override.costAdj : params.costAdj;</span></span>
<span id="cb1-880"><a href="#cb1-880" aria-hidden="true" tabindex="-1"></a><span class="in">    var capexProfile = override &amp;&amp; override.capexProfile ? override.capexProfile : params.capexProfile;</span></span>
<span id="cb1-881"><a href="#cb1-881" aria-hidden="true" tabindex="-1"></a><span class="in">    var shares = normalizeShares(override &amp;&amp; override.rawShares ? override.rawShares : params.rawShares);</span></span>
<span id="cb1-882"><a href="#cb1-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-883"><a href="#cb1-883" aria-hidden="true" tabindex="-1"></a><span class="in">    var classRows = [];</span></span>
<span id="cb1-884"><a href="#cb1-884" aria-hidden="true" tabindex="-1"></a><span class="in">    var weightedDemand = 0;</span></span>
<span id="cb1-885"><a href="#cb1-885" aria-hidden="true" tabindex="-1"></a><span class="in">    var totalRevenue = 0;</span></span>
<span id="cb1-886"><a href="#cb1-886" aria-hidden="true" tabindex="-1"></a><span class="in">    var totalConstruction = 0;</span></span>
<span id="cb1-887"><a href="#cb1-887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-888"><a href="#cb1-888" aria-hidden="true" tabindex="-1"></a><span class="in">    for (var i = 0; i &lt; assets.length; i++) {</span></span>
<span id="cb1-889"><a href="#cb1-889" aria-hidden="true" tabindex="-1"></a><span class="in">      var asset = assets[i];</span></span>
<span id="cb1-890"><a href="#cb1-890" aria-hidden="true" tabindex="-1"></a><span class="in">      var share = shares[i];</span></span>
<span id="cb1-891"><a href="#cb1-891" aria-hidden="true" tabindex="-1"></a><span class="in">      var concentrationPenalty = Math.max(0, (share - asset.targetShare) * 120);</span></span>
<span id="cb1-892"><a href="#cb1-892" aria-hidden="true" tabindex="-1"></a><span class="in">      var demand = clamp(asset.baseDemand + (1 - priceAdj) * 48 - concentrationPenalty, 35, 95);</span></span>
<span id="cb1-893"><a href="#cb1-893" aria-hidden="true" tabindex="-1"></a><span class="in">      var classArea = area * share;</span></span>
<span id="cb1-894"><a href="#cb1-894" aria-hidden="true" tabindex="-1"></a><span class="in">      var unitPrice = asset.price * priceAdj;</span></span>
<span id="cb1-895"><a href="#cb1-895" aria-hidden="true" tabindex="-1"></a><span class="in">      var unitCost = asset.cost * costAdj;</span></span>
<span id="cb1-896"><a href="#cb1-896" aria-hidden="true" tabindex="-1"></a><span class="in">      var revenue = classArea * unitPrice;</span></span>
<span id="cb1-897"><a href="#cb1-897" aria-hidden="true" tabindex="-1"></a><span class="in">      var construction = classArea * unitCost;</span></span>
<span id="cb1-898"><a href="#cb1-898" aria-hidden="true" tabindex="-1"></a><span class="in">      var grossMargin = (unitPrice - unitCost) / unitPrice;</span></span>
<span id="cb1-899"><a href="#cb1-899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-900"><a href="#cb1-900" aria-hidden="true" tabindex="-1"></a><span class="in">      weightedDemand += demand * share;</span></span>
<span id="cb1-901"><a href="#cb1-901" aria-hidden="true" tabindex="-1"></a><span class="in">      totalRevenue += revenue;</span></span>
<span id="cb1-902"><a href="#cb1-902" aria-hidden="true" tabindex="-1"></a><span class="in">      totalConstruction += construction;</span></span>
<span id="cb1-903"><a href="#cb1-903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-904"><a href="#cb1-904" aria-hidden="true" tabindex="-1"></a><span class="in">      classRows.push({</span></span>
<span id="cb1-905"><a href="#cb1-905" aria-hidden="true" tabindex="-1"></a><span class="in">        label: asset.label,</span></span>
<span id="cb1-906"><a href="#cb1-906" aria-hidden="true" tabindex="-1"></a><span class="in">        share: share,</span></span>
<span id="cb1-907"><a href="#cb1-907" aria-hidden="true" tabindex="-1"></a><span class="in">        demand: demand,</span></span>
<span id="cb1-908"><a href="#cb1-908" aria-hidden="true" tabindex="-1"></a><span class="in">        unitPrice: unitPrice,</span></span>
<span id="cb1-909"><a href="#cb1-909" aria-hidden="true" tabindex="-1"></a><span class="in">        unitCost: unitCost,</span></span>
<span id="cb1-910"><a href="#cb1-910" aria-hidden="true" tabindex="-1"></a><span class="in">        grossMargin: grossMargin</span></span>
<span id="cb1-911"><a href="#cb1-911" aria-hidden="true" tabindex="-1"></a><span class="in">      });</span></span>
<span id="cb1-912"><a href="#cb1-912" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-913"><a href="#cb1-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-914"><a href="#cb1-914" aria-hidden="true" tabindex="-1"></a><span class="in">    var landCostTotal = area * landCost;</span></span>
<span id="cb1-915"><a href="#cb1-915" aria-hidden="true" tabindex="-1"></a><span class="in">    var infraCost = totalConstruction * 0.12;</span></span>
<span id="cb1-916"><a href="#cb1-916" aria-hidden="true" tabindex="-1"></a><span class="in">    var softCost = totalConstruction * 0.09;</span></span>
<span id="cb1-917"><a href="#cb1-917" aria-hidden="true" tabindex="-1"></a><span class="in">    var financeCost = (landCostTotal + totalConstruction + infraCost + softCost) * financeRate;</span></span>
<span id="cb1-918"><a href="#cb1-918" aria-hidden="true" tabindex="-1"></a><span class="in">    var totalCost = landCostTotal + totalConstruction + infraCost + softCost + financeCost;</span></span>
<span id="cb1-919"><a href="#cb1-919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-920"><a href="#cb1-920" aria-hidden="true" tabindex="-1"></a><span class="in">    var costCurveRaw = capexProfiles[capexProfile] || capexProfiles.balanced;</span></span>
<span id="cb1-921"><a href="#cb1-921" aria-hidden="true" tabindex="-1"></a><span class="in">    var costCurveSum = costCurveRaw.reduce(function(acc, v) { return acc + v; }, 0);</span></span>
<span id="cb1-922"><a href="#cb1-922" aria-hidden="true" tabindex="-1"></a><span class="in">    var costCurve = costCurveRaw.map(function(v) { return v / costCurveSum; });</span></span>
<span id="cb1-923"><a href="#cb1-923" aria-hidden="true" tabindex="-1"></a><span class="in">    var salesCurve = buildSalesCurve(absorptionYears, weightedDemand);</span></span>
<span id="cb1-924"><a href="#cb1-924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-925"><a href="#cb1-925" aria-hidden="true" tabindex="-1"></a><span class="in">    var yearly = [];</span></span>
<span id="cb1-926"><a href="#cb1-926" aria-hidden="true" tabindex="-1"></a><span class="in">    var cumulative = 0;</span></span>
<span id="cb1-927"><a href="#cb1-927" aria-hidden="true" tabindex="-1"></a><span class="in">    var payback = null;</span></span>
<span id="cb1-928"><a href="#cb1-928" aria-hidden="true" tabindex="-1"></a><span class="in">    for (var year = 0; year &lt; 8; year++) {</span></span>
<span id="cb1-929"><a href="#cb1-929" aria-hidden="true" tabindex="-1"></a><span class="in">      var rev = totalRevenue * salesCurve[year];</span></span>
<span id="cb1-930"><a href="#cb1-930" aria-hidden="true" tabindex="-1"></a><span class="in">      var cost = totalCost * costCurve[year];</span></span>
<span id="cb1-931"><a href="#cb1-931" aria-hidden="true" tabindex="-1"></a><span class="in">      var net = rev - cost;</span></span>
<span id="cb1-932"><a href="#cb1-932" aria-hidden="true" tabindex="-1"></a><span class="in">      cumulative += net;</span></span>
<span id="cb1-933"><a href="#cb1-933" aria-hidden="true" tabindex="-1"></a><span class="in">      if (payback == null &amp;&amp; cumulative &gt;= 0) {</span></span>
<span id="cb1-934"><a href="#cb1-934" aria-hidden="true" tabindex="-1"></a><span class="in">        payback = year + 1;</span></span>
<span id="cb1-935"><a href="#cb1-935" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb1-936"><a href="#cb1-936" aria-hidden="true" tabindex="-1"></a><span class="in">      yearly.push({ rev: rev, cost: cost, net: net, cumulative: cumulative });</span></span>
<span id="cb1-937"><a href="#cb1-937" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-938"><a href="#cb1-938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-939"><a href="#cb1-939" aria-hidden="true" tabindex="-1"></a><span class="in">    var netSeries = yearly.map(function(y) { return y.net; });</span></span>
<span id="cb1-940"><a href="#cb1-940" aria-hidden="true" tabindex="-1"></a><span class="in">    var npv = npvFromRate(netSeries, discountRate);</span></span>
<span id="cb1-941"><a href="#cb1-941" aria-hidden="true" tabindex="-1"></a><span class="in">    var projectIrr = irr(netSeries);</span></span>
<span id="cb1-942"><a href="#cb1-942" aria-hidden="true" tabindex="-1"></a><span class="in">    var roi = (totalRevenue - totalCost) / totalCost;</span></span>
<span id="cb1-943"><a href="#cb1-943" aria-hidden="true" tabindex="-1"></a><span class="in">    var margin = (totalRevenue - totalCost) / totalRevenue;</span></span>
<span id="cb1-944"><a href="#cb1-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-945"><a href="#cb1-945" aria-hidden="true" tabindex="-1"></a><span class="in">    return {</span></span>
<span id="cb1-946"><a href="#cb1-946" aria-hidden="true" tabindex="-1"></a><span class="in">      classRows: classRows,</span></span>
<span id="cb1-947"><a href="#cb1-947" aria-hidden="true" tabindex="-1"></a><span class="in">      yearly: yearly,</span></span>
<span id="cb1-948"><a href="#cb1-948" aria-hidden="true" tabindex="-1"></a><span class="in">      totalRevenue: totalRevenue,</span></span>
<span id="cb1-949"><a href="#cb1-949" aria-hidden="true" tabindex="-1"></a><span class="in">      totalCost: totalCost,</span></span>
<span id="cb1-950"><a href="#cb1-950" aria-hidden="true" tabindex="-1"></a><span class="in">      totalProfit: totalRevenue - totalCost,</span></span>
<span id="cb1-951"><a href="#cb1-951" aria-hidden="true" tabindex="-1"></a><span class="in">      weightedDemand: weightedDemand,</span></span>
<span id="cb1-952"><a href="#cb1-952" aria-hidden="true" tabindex="-1"></a><span class="in">      npv: npv,</span></span>
<span id="cb1-953"><a href="#cb1-953" aria-hidden="true" tabindex="-1"></a><span class="in">      irr: projectIrr,</span></span>
<span id="cb1-954"><a href="#cb1-954" aria-hidden="true" tabindex="-1"></a><span class="in">      roi: roi,</span></span>
<span id="cb1-955"><a href="#cb1-955" aria-hidden="true" tabindex="-1"></a><span class="in">      margin: margin,</span></span>
<span id="cb1-956"><a href="#cb1-956" aria-hidden="true" tabindex="-1"></a><span class="in">      payback: payback,</span></span>
<span id="cb1-957"><a href="#cb1-957" aria-hidden="true" tabindex="-1"></a><span class="in">      discountRate: discountRate,</span></span>
<span id="cb1-958"><a href="#cb1-958" aria-hidden="true" tabindex="-1"></a><span class="in">      landShare: landCostTotal / totalCost,</span></span>
<span id="cb1-959"><a href="#cb1-959" aria-hidden="true" tabindex="-1"></a><span class="in">      financeShare: financeCost / totalCost</span></span>
<span id="cb1-960"><a href="#cb1-960" aria-hidden="true" tabindex="-1"></a><span class="in">    };</span></span>
<span id="cb1-961"><a href="#cb1-961" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-962"><a href="#cb1-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-963"><a href="#cb1-963" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderReadouts(params) {</span></span>
<span id="cb1-964"><a href="#cb1-964" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaAreaOut').textContent = Number(params.area).toLocaleString('en-KE');</span></span>
<span id="cb1-965"><a href="#cb1-965" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaLandCostOut').textContent = Number(params.landCost).toLocaleString('en-KE');</span></span>
<span id="cb1-966"><a href="#cb1-966" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaDiscountOut').textContent = (params.discountRate * 100).toFixed(1) + '%';</span></span>
<span id="cb1-967"><a href="#cb1-967" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaFinanceRateOut').textContent = (params.financeRate * 100).toFixed(1) + '%';</span></span>
<span id="cb1-968"><a href="#cb1-968" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaAbsorptionOut').textContent = String(params.absorptionYears);</span></span>
<span id="cb1-969"><a href="#cb1-969" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaPriceAdjOut').textContent = ((params.priceAdj - 1) * 100).toFixed(0) + '%';</span></span>
<span id="cb1-970"><a href="#cb1-970" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaCostAdjOut').textContent = ((params.costAdj - 1) * 100).toFixed(0) + '%';</span></span>
<span id="cb1-971"><a href="#cb1-971" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('mixResidentialOut').textContent = String(params.rawShares[0]);</span></span>
<span id="cb1-972"><a href="#cb1-972" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('mixCommercialOut').textContent = String(params.rawShares[1]);</span></span>
<span id="cb1-973"><a href="#cb1-973" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('mixRetailOut').textContent = String(params.rawShares[2]);</span></span>
<span id="cb1-974"><a href="#cb1-974" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('mixIndustrialOut').textContent = String(params.rawShares[3]);</span></span>
<span id="cb1-975"><a href="#cb1-975" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-976"><a href="#cb1-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-977"><a href="#cb1-977" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderKpis(model) {</span></span>
<span id="cb1-978"><a href="#cb1-978" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('kpiNpv').textContent = shortMoney(model.npv);</span></span>
<span id="cb1-979"><a href="#cb1-979" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('kpiIrr').textContent = model.irr == null ? 'No solution' : percent(model.irr, 1);</span></span>
<span id="cb1-980"><a href="#cb1-980" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('kpiRoi').textContent = percent(model.roi, 1);</span></span>
<span id="cb1-981"><a href="#cb1-981" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('kpiPayback').textContent = model.payback == null ? '&gt; 8 years' : ('Year ' + model.payback);</span></span>
<span id="cb1-982"><a href="#cb1-982" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('kpiSales').textContent = shortMoney(model.totalRevenue);</span></span>
<span id="cb1-983"><a href="#cb1-983" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-984"><a href="#cb1-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-985"><a href="#cb1-985" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderCashflow(model) {</span></span>
<span id="cb1-986"><a href="#cb1-986" aria-hidden="true" tabindex="-1"></a><span class="in">    var holder = byId('rebaCashflowBars');</span></span>
<span id="cb1-987"><a href="#cb1-987" aria-hidden="true" tabindex="-1"></a><span class="in">    var maxValue = 1;</span></span>
<span id="cb1-988"><a href="#cb1-988" aria-hidden="true" tabindex="-1"></a><span class="in">    model.yearly.forEach(function(y) {</span></span>
<span id="cb1-989"><a href="#cb1-989" aria-hidden="true" tabindex="-1"></a><span class="in">      maxValue = Math.max(maxValue, y.rev, y.cost);</span></span>
<span id="cb1-990"><a href="#cb1-990" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb1-991"><a href="#cb1-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-992"><a href="#cb1-992" aria-hidden="true" tabindex="-1"></a><span class="in">    holder.innerHTML = model.yearly.map(function(y, idx) {</span></span>
<span id="cb1-993"><a href="#cb1-993" aria-hidden="true" tabindex="-1"></a><span class="in">      var revHeight = Math.max(3, (y.rev / maxValue) * 100);</span></span>
<span id="cb1-994"><a href="#cb1-994" aria-hidden="true" tabindex="-1"></a><span class="in">      var costHeight = Math.max(3, (y.cost / maxValue) * 100);</span></span>
<span id="cb1-995"><a href="#cb1-995" aria-hidden="true" tabindex="-1"></a><span class="in">      var netClass = y.net &gt;= 0 ? 'pos' : 'neg';</span></span>
<span id="cb1-996"><a href="#cb1-996" aria-hidden="true" tabindex="-1"></a><span class="in">      return ''</span></span>
<span id="cb1-997"><a href="#cb1-997" aria-hidden="true" tabindex="-1"></a><span class="in">        + '&lt;div class="reba-year"&gt;'</span></span>
<span id="cb1-998"><a href="#cb1-998" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;div class="reba-bar-stack"&gt;'</span></span>
<span id="cb1-999"><a href="#cb1-999" aria-hidden="true" tabindex="-1"></a><span class="in">        + '    &lt;span class="reba-bar cost" style="height:' + costHeight.toFixed(2) + '%"&gt;&lt;/span&gt;'</span></span>
<span id="cb1-1000"><a href="#cb1-1000" aria-hidden="true" tabindex="-1"></a><span class="in">        + '    &lt;span class="reba-bar rev" style="height:' + revHeight.toFixed(2) + '%"&gt;&lt;/span&gt;'</span></span>
<span id="cb1-1001"><a href="#cb1-1001" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;/div&gt;'</span></span>
<span id="cb1-1002"><a href="#cb1-1002" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;div class="reba-year-net ' + netClass + '"&gt;' + shortMoney(y.net) + '&lt;/div&gt;'</span></span>
<span id="cb1-1003"><a href="#cb1-1003" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;div class="reba-year-tag"&gt;Y' + (idx + 1) + '&lt;/div&gt;'</span></span>
<span id="cb1-1004"><a href="#cb1-1004" aria-hidden="true" tabindex="-1"></a><span class="in">        + '&lt;/div&gt;';</span></span>
<span id="cb1-1005"><a href="#cb1-1005" aria-hidden="true" tabindex="-1"></a><span class="in">    }).join('');</span></span>
<span id="cb1-1006"><a href="#cb1-1006" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1007"><a href="#cb1-1007" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1008"><a href="#cb1-1008" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderMixTable(model) {</span></span>
<span id="cb1-1009"><a href="#cb1-1009" aria-hidden="true" tabindex="-1"></a><span class="in">    var body = byId('rebaMixBody');</span></span>
<span id="cb1-1010"><a href="#cb1-1010" aria-hidden="true" tabindex="-1"></a><span class="in">    body.innerHTML = model.classRows.map(function(r) {</span></span>
<span id="cb1-1011"><a href="#cb1-1011" aria-hidden="true" tabindex="-1"></a><span class="in">      return ''</span></span>
<span id="cb1-1012"><a href="#cb1-1012" aria-hidden="true" tabindex="-1"></a><span class="in">        + '&lt;tr&gt;'</span></span>
<span id="cb1-1013"><a href="#cb1-1013" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;td&gt;' + r.label + '&lt;/td&gt;'</span></span>
<span id="cb1-1014"><a href="#cb1-1014" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;td&gt;' + percent(r.share, 1) + '&lt;/td&gt;'</span></span>
<span id="cb1-1015"><a href="#cb1-1015" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;td&gt;' + shortMoney(r.unitPrice) + '&lt;/td&gt;'</span></span>
<span id="cb1-1016"><a href="#cb1-1016" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;td&gt;' + shortMoney(r.unitCost) + '&lt;/td&gt;'</span></span>
<span id="cb1-1017"><a href="#cb1-1017" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;td&gt;' + percent(r.grossMargin, 1) + '&lt;/td&gt;'</span></span>
<span id="cb1-1018"><a href="#cb1-1018" aria-hidden="true" tabindex="-1"></a><span class="in">        + '&lt;/tr&gt;';</span></span>
<span id="cb1-1019"><a href="#cb1-1019" aria-hidden="true" tabindex="-1"></a><span class="in">    }).join('');</span></span>
<span id="cb1-1020"><a href="#cb1-1020" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1021"><a href="#cb1-1021" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1022"><a href="#cb1-1022" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderHeatmap(params) {</span></span>
<span id="cb1-1023"><a href="#cb1-1023" aria-hidden="true" tabindex="-1"></a><span class="in">    var priceShocks = [-10, -5, 0, 5, 10];</span></span>
<span id="cb1-1024"><a href="#cb1-1024" aria-hidden="true" tabindex="-1"></a><span class="in">    var costShocks = [10, 5, 0, -5, -10];</span></span>
<span id="cb1-1025"><a href="#cb1-1025" aria-hidden="true" tabindex="-1"></a><span class="in">    var values = [];</span></span>
<span id="cb1-1026"><a href="#cb1-1026" aria-hidden="true" tabindex="-1"></a><span class="in">    var rows = [];</span></span>
<span id="cb1-1027"><a href="#cb1-1027" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1028"><a href="#cb1-1028" aria-hidden="true" tabindex="-1"></a><span class="in">    for (var i = 0; i &lt; costShocks.length; i++) {</span></span>
<span id="cb1-1029"><a href="#cb1-1029" aria-hidden="true" tabindex="-1"></a><span class="in">      var row = [];</span></span>
<span id="cb1-1030"><a href="#cb1-1030" aria-hidden="true" tabindex="-1"></a><span class="in">      for (var j = 0; j &lt; priceShocks.length; j++) {</span></span>
<span id="cb1-1031"><a href="#cb1-1031" aria-hidden="true" tabindex="-1"></a><span class="in">        var scenario = runModel(params, {</span></span>
<span id="cb1-1032"><a href="#cb1-1032" aria-hidden="true" tabindex="-1"></a><span class="in">          priceAdj: params.priceAdj * (1 + (priceShocks[j] / 100)),</span></span>
<span id="cb1-1033"><a href="#cb1-1033" aria-hidden="true" tabindex="-1"></a><span class="in">          costAdj: params.costAdj * (1 + (costShocks[i] / 100))</span></span>
<span id="cb1-1034"><a href="#cb1-1034" aria-hidden="true" tabindex="-1"></a><span class="in">        });</span></span>
<span id="cb1-1035"><a href="#cb1-1035" aria-hidden="true" tabindex="-1"></a><span class="in">        row.push(scenario.npv);</span></span>
<span id="cb1-1036"><a href="#cb1-1036" aria-hidden="true" tabindex="-1"></a><span class="in">        values.push(scenario.npv);</span></span>
<span id="cb1-1037"><a href="#cb1-1037" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb1-1038"><a href="#cb1-1038" aria-hidden="true" tabindex="-1"></a><span class="in">      rows.push(row);</span></span>
<span id="cb1-1039"><a href="#cb1-1039" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1040"><a href="#cb1-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1041"><a href="#cb1-1041" aria-hidden="true" tabindex="-1"></a><span class="in">    var min = Math.min.apply(null, values);</span></span>
<span id="cb1-1042"><a href="#cb1-1042" aria-hidden="true" tabindex="-1"></a><span class="in">    var max = Math.max.apply(null, values);</span></span>
<span id="cb1-1043"><a href="#cb1-1043" aria-hidden="true" tabindex="-1"></a><span class="in">    var spread = Math.max(1, max - min);</span></span>
<span id="cb1-1044"><a href="#cb1-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1045"><a href="#cb1-1045" aria-hidden="true" tabindex="-1"></a><span class="in">    var head = '&lt;tr&gt;&lt;th&gt;Cost \\ Price&lt;/th&gt;' + priceShocks.map(function(p) {</span></span>
<span id="cb1-1046"><a href="#cb1-1046" aria-hidden="true" tabindex="-1"></a><span class="in">      return '&lt;th&gt;' + (p &gt; 0 ? '+' : '') + p + '%&lt;/th&gt;';</span></span>
<span id="cb1-1047"><a href="#cb1-1047" aria-hidden="true" tabindex="-1"></a><span class="in">    }).join('') + '&lt;/tr&gt;';</span></span>
<span id="cb1-1048"><a href="#cb1-1048" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaHeatmapHead').innerHTML = head;</span></span>
<span id="cb1-1049"><a href="#cb1-1049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1050"><a href="#cb1-1050" aria-hidden="true" tabindex="-1"></a><span class="in">    var bodyHtml = rows.map(function(row, rIdx) {</span></span>
<span id="cb1-1051"><a href="#cb1-1051" aria-hidden="true" tabindex="-1"></a><span class="in">      var left = '&lt;th&gt;' + (costShocks[rIdx] &gt; 0 ? '+' : '') + costShocks[rIdx] + '%&lt;/th&gt;';</span></span>
<span id="cb1-1052"><a href="#cb1-1052" aria-hidden="true" tabindex="-1"></a><span class="in">      var cells = row.map(function(v) {</span></span>
<span id="cb1-1053"><a href="#cb1-1053" aria-hidden="true" tabindex="-1"></a><span class="in">        var intensity = (Math.abs(v) - Math.min(Math.abs(min), Math.abs(max)) * 0.15) / spread;</span></span>
<span id="cb1-1054"><a href="#cb1-1054" aria-hidden="true" tabindex="-1"></a><span class="in">        intensity = clamp(intensity, 0.12, 0.92);</span></span>
<span id="cb1-1055"><a href="#cb1-1055" aria-hidden="true" tabindex="-1"></a><span class="in">        var color = v &gt;= 0</span></span>
<span id="cb1-1056"><a href="#cb1-1056" aria-hidden="true" tabindex="-1"></a><span class="in">          ? 'rgba(45, 125, 74, ' + intensity.toFixed(3) + ')'</span></span>
<span id="cb1-1057"><a href="#cb1-1057" aria-hidden="true" tabindex="-1"></a><span class="in">          : 'rgba(184, 78, 22, ' + intensity.toFixed(3) + ')';</span></span>
<span id="cb1-1058"><a href="#cb1-1058" aria-hidden="true" tabindex="-1"></a><span class="in">        var textColor = intensity &gt; 0.48 ? '#fff' : '#2d2b27';</span></span>
<span id="cb1-1059"><a href="#cb1-1059" aria-hidden="true" tabindex="-1"></a><span class="in">        return '&lt;td style="background:' + color + ';color:' + textColor + ';font-family:DM Mono, monospace;"&gt;' + shortMoney(v) + '&lt;/td&gt;';</span></span>
<span id="cb1-1060"><a href="#cb1-1060" aria-hidden="true" tabindex="-1"></a><span class="in">      }).join('');</span></span>
<span id="cb1-1061"><a href="#cb1-1061" aria-hidden="true" tabindex="-1"></a><span class="in">      return '&lt;tr&gt;' + left + cells + '&lt;/tr&gt;';</span></span>
<span id="cb1-1062"><a href="#cb1-1062" aria-hidden="true" tabindex="-1"></a><span class="in">    }).join('');</span></span>
<span id="cb1-1063"><a href="#cb1-1063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1064"><a href="#cb1-1064" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaHeatmapBody').innerHTML = bodyHtml;</span></span>
<span id="cb1-1065"><a href="#cb1-1065" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1066"><a href="#cb1-1066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1067"><a href="#cb1-1067" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderDemand(model) {</span></span>
<span id="cb1-1068"><a href="#cb1-1068" aria-hidden="true" tabindex="-1"></a><span class="in">    var box = byId('rebaDemandBars');</span></span>
<span id="cb1-1069"><a href="#cb1-1069" aria-hidden="true" tabindex="-1"></a><span class="in">    box.innerHTML = model.classRows.map(function(r) {</span></span>
<span id="cb1-1070"><a href="#cb1-1070" aria-hidden="true" tabindex="-1"></a><span class="in">      return ''</span></span>
<span id="cb1-1071"><a href="#cb1-1071" aria-hidden="true" tabindex="-1"></a><span class="in">        + '&lt;div class="reba-demand-row"&gt;'</span></span>
<span id="cb1-1072"><a href="#cb1-1072" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;span class="n"&gt;' + r.label + '&lt;/span&gt;'</span></span>
<span id="cb1-1073"><a href="#cb1-1073" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;div class="reba-demand-track"&gt;&lt;span class="reba-demand-fill" style="width:' + r.demand.toFixed(1) + '%"&gt;&lt;/span&gt;&lt;/div&gt;'</span></span>
<span id="cb1-1074"><a href="#cb1-1074" aria-hidden="true" tabindex="-1"></a><span class="in">        + '  &lt;span class="reba-demand-score"&gt;' + r.demand.toFixed(0) + '&lt;/span&gt;'</span></span>
<span id="cb1-1075"><a href="#cb1-1075" aria-hidden="true" tabindex="-1"></a><span class="in">        + '&lt;/div&gt;';</span></span>
<span id="cb1-1076"><a href="#cb1-1076" aria-hidden="true" tabindex="-1"></a><span class="in">    }).join('');</span></span>
<span id="cb1-1077"><a href="#cb1-1077" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1078"><a href="#cb1-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1079"><a href="#cb1-1079" aria-hidden="true" tabindex="-1"></a><span class="in">  function buildRecommendations(model, params) {</span></span>
<span id="cb1-1080"><a href="#cb1-1080" aria-hidden="true" tabindex="-1"></a><span class="in">    var items = [];</span></span>
<span id="cb1-1081"><a href="#cb1-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1082"><a href="#cb1-1082" aria-hidden="true" tabindex="-1"></a><span class="in">    if (model.npv &gt; 0 &amp;&amp; model.irr != null &amp;&amp; model.irr &gt; (model.discountRate + 0.035)) {</span></span>
<span id="cb1-1083"><a href="#cb1-1083" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Proceed with phase one approvals because the base case clears value and return thresholds.');</span></span>
<span id="cb1-1084"><a href="#cb1-1084" aria-hidden="true" tabindex="-1"></a><span class="in">    } else {</span></span>
<span id="cb1-1085"><a href="#cb1-1085" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Refine assumptions before board approval since the base case does not strongly clear return thresholds.');</span></span>
<span id="cb1-1086"><a href="#cb1-1086" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1087"><a href="#cb1-1087" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1088"><a href="#cb1-1088" aria-hidden="true" tabindex="-1"></a><span class="in">    if (model.payback == null || model.payback &gt; 7) {</span></span>
<span id="cb1-1089"><a href="#cb1-1089" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Tighten phasing and pre sales strategy to shorten payback and reduce financing pressure.');</span></span>
<span id="cb1-1090"><a href="#cb1-1090" aria-hidden="true" tabindex="-1"></a><span class="in">    } else {</span></span>
<span id="cb1-1091"><a href="#cb1-1091" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Current phasing is acceptable for lender conversations given payback timing.');</span></span>
<span id="cb1-1092"><a href="#cb1-1092" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1093"><a href="#cb1-1093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1094"><a href="#cb1-1094" aria-hidden="true" tabindex="-1"></a><span class="in">    if (params.costAdj &gt; 1.08) {</span></span>
<span id="cb1-1095"><a href="#cb1-1095" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Run value engineering now because cost pressure is materially reducing project headroom.');</span></span>
<span id="cb1-1096"><a href="#cb1-1096" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1097"><a href="#cb1-1097" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1098"><a href="#cb1-1098" aria-hidden="true" tabindex="-1"></a><span class="in">    if (model.weightedDemand &lt; 66) {</span></span>
<span id="cb1-1099"><a href="#cb1-1099" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Rebalance product mix toward higher demand classes to improve absorption confidence.');</span></span>
<span id="cb1-1100"><a href="#cb1-1100" aria-hidden="true" tabindex="-1"></a><span class="in">    } else {</span></span>
<span id="cb1-1101"><a href="#cb1-1101" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Demand profile is healthy enough to support planned release sequencing.');</span></span>
<span id="cb1-1102"><a href="#cb1-1102" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1103"><a href="#cb1-1103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1104"><a href="#cb1-1104" aria-hidden="true" tabindex="-1"></a><span class="in">    if (model.landShare &gt; 0.12) {</span></span>
<span id="cb1-1105"><a href="#cb1-1105" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Land cost share is elevated so renegotiate land terms or increase effective sellable density.');</span></span>
<span id="cb1-1106"><a href="#cb1-1106" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1107"><a href="#cb1-1107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1108"><a href="#cb1-1108" aria-hidden="true" tabindex="-1"></a><span class="in">    if (model.financeShare &gt; 0.1) {</span></span>
<span id="cb1-1109"><a href="#cb1-1109" aria-hidden="true" tabindex="-1"></a><span class="in">      items.push('Finance cost share is high so prioritize faster collections and staged debt drawdown.');</span></span>
<span id="cb1-1110"><a href="#cb1-1110" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1111"><a href="#cb1-1111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1112"><a href="#cb1-1112" aria-hidden="true" tabindex="-1"></a><span class="in">    return items.slice(0, 5);</span></span>
<span id="cb1-1113"><a href="#cb1-1113" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1114"><a href="#cb1-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1115"><a href="#cb1-1115" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderRecommendations(model, params) {</span></span>
<span id="cb1-1116"><a href="#cb1-1116" aria-hidden="true" tabindex="-1"></a><span class="in">    var list = byId('rebaRecommendations');</span></span>
<span id="cb1-1117"><a href="#cb1-1117" aria-hidden="true" tabindex="-1"></a><span class="in">    var recs = buildRecommendations(model, params);</span></span>
<span id="cb1-1118"><a href="#cb1-1118" aria-hidden="true" tabindex="-1"></a><span class="in">    list.innerHTML = recs.map(function(item) {</span></span>
<span id="cb1-1119"><a href="#cb1-1119" aria-hidden="true" tabindex="-1"></a><span class="in">      return '&lt;li&gt;' + item + '&lt;/li&gt;';</span></span>
<span id="cb1-1120"><a href="#cb1-1120" aria-hidden="true" tabindex="-1"></a><span class="in">    }).join('');</span></span>
<span id="cb1-1121"><a href="#cb1-1121" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1122"><a href="#cb1-1122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1123"><a href="#cb1-1123" aria-hidden="true" tabindex="-1"></a><span class="in">  function renderBoardBrief(model, params) {</span></span>
<span id="cb1-1124"><a href="#cb1-1124" aria-hidden="true" tabindex="-1"></a><span class="in">    var bestClass = model.classRows</span></span>
<span id="cb1-1125"><a href="#cb1-1125" aria-hidden="true" tabindex="-1"></a><span class="in">      .slice()</span></span>
<span id="cb1-1126"><a href="#cb1-1126" aria-hidden="true" tabindex="-1"></a><span class="in">      .sort(function(a, b) {</span></span>
<span id="cb1-1127"><a href="#cb1-1127" aria-hidden="true" tabindex="-1"></a><span class="in">        return (b.grossMargin * b.demand) - (a.grossMargin * a.demand);</span></span>
<span id="cb1-1128"><a href="#cb1-1128" aria-hidden="true" tabindex="-1"></a><span class="in">      })[0];</span></span>
<span id="cb1-1129"><a href="#cb1-1129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1130"><a href="#cb1-1130" aria-hidden="true" tabindex="-1"></a><span class="in">    var text = ''</span></span>
<span id="cb1-1131"><a href="#cb1-1131" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Scenario overview\n'</span></span>
<span id="cb1-1132"><a href="#cb1-1132" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Total area: ' + Number(params.area).toLocaleString('en-KE') + ' sqm\n'</span></span>
<span id="cb1-1133"><a href="#cb1-1133" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Discount rate: ' + (params.discountRate * 100).toFixed(1) + '%\n'</span></span>
<span id="cb1-1134"><a href="#cb1-1134" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Absorption period: ' + params.absorptionYears + ' years\n\n'</span></span>
<span id="cb1-1135"><a href="#cb1-1135" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Financial result\n'</span></span>
<span id="cb1-1136"><a href="#cb1-1136" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'NPV: ' + shortMoney(model.npv) + '\n'</span></span>
<span id="cb1-1137"><a href="#cb1-1137" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'IRR: ' + (model.irr == null ? 'No solution' : percent(model.irr, 1)) + '\n'</span></span>
<span id="cb1-1138"><a href="#cb1-1138" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'ROI: ' + percent(model.roi, 1) + '\n'</span></span>
<span id="cb1-1139"><a href="#cb1-1139" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Payback: ' + (model.payback == null ? 'Beyond year 8' : 'Year ' + model.payback) + '\n\n'</span></span>
<span id="cb1-1140"><a href="#cb1-1140" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Portfolio signal\n'</span></span>
<span id="cb1-1141"><a href="#cb1-1141" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Best risk adjusted class: ' + bestClass.label + '\n'</span></span>
<span id="cb1-1142"><a href="#cb1-1142" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Weighted demand index: ' + model.weightedDemand.toFixed(1) + ' / 100\n'</span></span>
<span id="cb1-1143"><a href="#cb1-1143" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Land cost share: ' + percent(model.landShare, 1) + '\n'</span></span>
<span id="cb1-1144"><a href="#cb1-1144" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Finance cost share: ' + percent(model.financeShare, 1) + '\n\n'</span></span>
<span id="cb1-1145"><a href="#cb1-1145" aria-hidden="true" tabindex="-1"></a><span class="in">      + 'Decision guidance\n'</span></span>
<span id="cb1-1146"><a href="#cb1-1146" aria-hidden="true" tabindex="-1"></a><span class="in">      + buildRecommendations(model, params).map(function(item, idx) {</span></span>
<span id="cb1-1147"><a href="#cb1-1147" aria-hidden="true" tabindex="-1"></a><span class="in">        return (idx + 1) + '. ' + item;</span></span>
<span id="cb1-1148"><a href="#cb1-1148" aria-hidden="true" tabindex="-1"></a><span class="in">      }).join('\n');</span></span>
<span id="cb1-1149"><a href="#cb1-1149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1150"><a href="#cb1-1150" aria-hidden="true" tabindex="-1"></a><span class="in">    byId('rebaBoardText').value = text;</span></span>
<span id="cb1-1151"><a href="#cb1-1151" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1152"><a href="#cb1-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1153"><a href="#cb1-1153" aria-hidden="true" tabindex="-1"></a><span class="in">  function updateAll() {</span></span>
<span id="cb1-1154"><a href="#cb1-1154" aria-hidden="true" tabindex="-1"></a><span class="in">    var params = gatherInputs();</span></span>
<span id="cb1-1155"><a href="#cb1-1155" aria-hidden="true" tabindex="-1"></a><span class="in">    renderReadouts(params);</span></span>
<span id="cb1-1156"><a href="#cb1-1156" aria-hidden="true" tabindex="-1"></a><span class="in">    var model = runModel(params);</span></span>
<span id="cb1-1157"><a href="#cb1-1157" aria-hidden="true" tabindex="-1"></a><span class="in">    renderKpis(model);</span></span>
<span id="cb1-1158"><a href="#cb1-1158" aria-hidden="true" tabindex="-1"></a><span class="in">    renderCashflow(model);</span></span>
<span id="cb1-1159"><a href="#cb1-1159" aria-hidden="true" tabindex="-1"></a><span class="in">    renderMixTable(model);</span></span>
<span id="cb1-1160"><a href="#cb1-1160" aria-hidden="true" tabindex="-1"></a><span class="in">    renderHeatmap(params);</span></span>
<span id="cb1-1161"><a href="#cb1-1161" aria-hidden="true" tabindex="-1"></a><span class="in">    renderDemand(model);</span></span>
<span id="cb1-1162"><a href="#cb1-1162" aria-hidden="true" tabindex="-1"></a><span class="in">    renderRecommendations(model, params);</span></span>
<span id="cb1-1163"><a href="#cb1-1163" aria-hidden="true" tabindex="-1"></a><span class="in">    renderBoardBrief(model, params);</span></span>
<span id="cb1-1164"><a href="#cb1-1164" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1165"><a href="#cb1-1165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1166"><a href="#cb1-1166" aria-hidden="true" tabindex="-1"></a><span class="in">  function resetDefaults() {</span></span>
<span id="cb1-1167"><a href="#cb1-1167" aria-hidden="true" tabindex="-1"></a><span class="in">    inputIds.forEach(function(id) {</span></span>
<span id="cb1-1168"><a href="#cb1-1168" aria-hidden="true" tabindex="-1"></a><span class="in">      var el = byId(id);</span></span>
<span id="cb1-1169"><a href="#cb1-1169" aria-hidden="true" tabindex="-1"></a><span class="in">      if (!el) return;</span></span>
<span id="cb1-1170"><a href="#cb1-1170" aria-hidden="true" tabindex="-1"></a><span class="in">      el.value = defaults[id];</span></span>
<span id="cb1-1171"><a href="#cb1-1171" aria-hidden="true" tabindex="-1"></a><span class="in">    });</span></span>
<span id="cb1-1172"><a href="#cb1-1172" aria-hidden="true" tabindex="-1"></a><span class="in">    updateAll();</span></span>
<span id="cb1-1173"><a href="#cb1-1173" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1174"><a href="#cb1-1174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1175"><a href="#cb1-1175" aria-hidden="true" tabindex="-1"></a><span class="in">  function copyBoardBrief() {</span></span>
<span id="cb1-1176"><a href="#cb1-1176" aria-hidden="true" tabindex="-1"></a><span class="in">    var text = byId('rebaBoardText').value;</span></span>
<span id="cb1-1177"><a href="#cb1-1177" aria-hidden="true" tabindex="-1"></a><span class="in">    if (navigator.clipboard &amp;&amp; text) {</span></span>
<span id="cb1-1178"><a href="#cb1-1178" aria-hidden="true" tabindex="-1"></a><span class="in">      navigator.clipboard.writeText(text).then(function() {</span></span>
<span id="cb1-1179"><a href="#cb1-1179" aria-hidden="true" tabindex="-1"></a><span class="in">        var btn = byId('rebaCopyBtn');</span></span>
<span id="cb1-1180"><a href="#cb1-1180" aria-hidden="true" tabindex="-1"></a><span class="in">        var old = btn.textContent;</span></span>
<span id="cb1-1181"><a href="#cb1-1181" aria-hidden="true" tabindex="-1"></a><span class="in">        btn.textContent = 'Copied';</span></span>
<span id="cb1-1182"><a href="#cb1-1182" aria-hidden="true" tabindex="-1"></a><span class="in">        setTimeout(function() {</span></span>
<span id="cb1-1183"><a href="#cb1-1183" aria-hidden="true" tabindex="-1"></a><span class="in">          btn.textContent = old;</span></span>
<span id="cb1-1184"><a href="#cb1-1184" aria-hidden="true" tabindex="-1"></a><span class="in">        }, 1200);</span></span>
<span id="cb1-1185"><a href="#cb1-1185" aria-hidden="true" tabindex="-1"></a><span class="in">      });</span></span>
<span id="cb1-1186"><a href="#cb1-1186" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1187"><a href="#cb1-1187" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb1-1188"><a href="#cb1-1188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1189"><a href="#cb1-1189" aria-hidden="true" tabindex="-1"></a><span class="in">  inputIds.forEach(function(id) {</span></span>
<span id="cb1-1190"><a href="#cb1-1190" aria-hidden="true" tabindex="-1"></a><span class="in">    var el = byId(id);</span></span>
<span id="cb1-1191"><a href="#cb1-1191" aria-hidden="true" tabindex="-1"></a><span class="in">    if (!el) return;</span></span>
<span id="cb1-1192"><a href="#cb1-1192" aria-hidden="true" tabindex="-1"></a><span class="in">    el.addEventListener('input', updateAll);</span></span>
<span id="cb1-1193"><a href="#cb1-1193" aria-hidden="true" tabindex="-1"></a><span class="in">    el.addEventListener('change', updateAll);</span></span>
<span id="cb1-1194"><a href="#cb1-1194" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb1-1195"><a href="#cb1-1195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1196"><a href="#cb1-1196" aria-hidden="true" tabindex="-1"></a><span class="in">  byId('rebaResetBtn').addEventListener('click', resetDefaults);</span></span>
<span id="cb1-1197"><a href="#cb1-1197" aria-hidden="true" tabindex="-1"></a><span class="in">  byId('rebaCopyBtn').addEventListener('click', copyBoardBrief);</span></span>
<span id="cb1-1198"><a href="#cb1-1198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1199"><a href="#cb1-1199" aria-hidden="true" tabindex="-1"></a><span class="in">  outIds.forEach(function(id) {</span></span>
<span id="cb1-1200"><a href="#cb1-1200" aria-hidden="true" tabindex="-1"></a><span class="in">    if (!byId(id)) {</span></span>
<span id="cb1-1201"><a href="#cb1-1201" aria-hidden="true" tabindex="-1"></a><span class="in">      console.warn('Missing output id', id);</span></span>
<span id="cb1-1202"><a href="#cb1-1202" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb1-1203"><a href="#cb1-1203" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb1-1204"><a href="#cb1-1204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-1205"><a href="#cb1-1205" aria-hidden="true" tabindex="-1"></a><span class="in">  updateAll();</span></span>
<span id="cb1-1206"><a href="#cb1-1206" aria-hidden="true" tabindex="-1"></a><span class="in">})();</span></span>
<span id="cb1-1207"><a href="#cb1-1207" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/script&gt;</span></span>
<span id="cb1-1208"><a href="#cb1-1208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Nichodemus Amollo · Built with Quarto</p>
</div>   
    <div class="nav-footer-center">
<p>Nairobi, Kenya</p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gondamol">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/nichodemusamollo/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>