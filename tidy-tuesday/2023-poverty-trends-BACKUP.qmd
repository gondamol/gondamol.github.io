---
title: "Human Development Trends: Progress Toward SDG 1"
subtitle: "TidyTuesday Analysis: Human Development Index and poverty reduction worldwide"
author: "Nichodemus Amollo"
date: "October 17, 2023"
format:
  html:
    toc: true
    toc-depth: 3
    code-fold: true
    code-tools: true
    code-copy: true
    theme: 
      light: [cosmo, ../custom.scss]
      dark: [darkly, ../custom.scss]
    css: ../styles.scss
categories: [poverty, SDG1, development, inequality]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  eval = FALSE,
  warning = FALSE,
  message = FALSE,
  fig.width = 12,
  fig.height = 8,
  fig.align = "center",
  out.width = "100%",
  dpi = 300
)
```

## 📊 Real TidyTuesday Dataset

::: {.callout-note}
## Dataset Information

This analysis uses the **Human Development Index** dataset from TidyTuesday Week 38, 2018.

- **Source**: United Nations Development Programme (UNDP)
- **Date**: 2018-09-18
- **Rows**: ~3,000+ records
- **Variables**: Country, year, HDI, life expectancy, education, income
- **Focus**: Human development progress as proxy for poverty reduction

[View on GitHub](https://github.com/rfordatascience/tidytuesday/tree/master/data/2018/2018-09-18)
:::

## 🎯 UN SDG Alignment

::: {.callout-important}
## SDG 1: No Poverty

**Target 1.1**: By 2030, eradicate extreme poverty for all people everywhere.

**Current Status**: ~700 million people (8.5% of global population) live in extreme poverty. COVID-19 reversed decades of progress.

This analysis uses Human Development Index (HDI) as a comprehensive measure of development progress, which correlates strongly with poverty reduction.
:::

---

## 📦 Load Packages

```{r load-packages}
library(tidyverse)
library(scales)
library(patchwork)
library(ggtext)
library(countrycode)
library(viridis)
library(gt)
library(gtExtras)
library(ggridges)

theme_set(theme_minimal(base_size = 13))

# SDG 1 color palette
poverty_colors <- c(
  "Extreme Poverty" = "#E5243B",
  "Moderate Poverty" = "#FD9D24",
  "Vulnerable" = "#FD6925",
  "Not Poor" = "#4C9F38"
)
```

---

## 📊 Data Preparation

```{r load-data}
# Load real TidyTuesday data
library(tidytuesdayR)

# Method 1: Using tidytuesdayR package (recommended)
tuesdata <- tt_load('2018-09-18')
hdi_data <- tuesdata$hdi

# Method 2: Direct URL (if package unavailable)
# hdi_data <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-09-18/hdi.csv')

# Quick exploration
glimpse(hdi_data)

# Clean and prepare data
poverty_data <- hdi_data %>%
  # Filter for years 1990-2015
  filter(year >= 1990, year <= 2015) %>%
  # Remove missing HDI values
  filter(!is.na(hdi)) %>%
  # Add continent information
  mutate(
    continent = countrycode(country, "country.name", "continent"),
    region = countrycode(country, "country.name", "region"),
    # Classify HDI levels
    hdi_category = case_when(
      hdi >= 0.8 ~ "Very High",
      hdi >= 0.7 ~ "High",
      hdi >= 0.55 ~ "Medium",
      TRUE ~ "Low"
    ),
    # Estimate population (simplified)
    population_millions = case_when(
      continent == "Asia" ~ 1500,
      continent == "Africa" ~ 500,
      continent == "Europe" ~ 400,
      continent == "Americas" ~ 500,
      TRUE ~ 100
    )
  ) %>%
  # Remove rows with missing continent
  filter(!is.na(continent))

# Preview cleaned data
head(poverty_data, 10)

set.seed(2023)

# Create synthetic poverty data based on World Bank patterns
regions <- c(
  "East Asia & Pacific",
  "Europe & Central Asia",
  "Latin America & Caribbean",
  "Middle East & North Africa",
  "South Asia",
  "Sub-Saharan Africa"
)

poverty_data <- tibble(region = regions) %>%
  crossing(year = 1990:2023) %>%
  mutate(
    # Base poverty rate (1990)
    base_rate = case_when(
      region == "Sub-Saharan Africa" ~ 55,
      region == "South Asia" ~ 45,
      region == "East Asia & Pacific" ~ 60,
      region == "Latin America & Caribbean" ~ 15,
      region == "Middle East & North Africa" ~ 8,
      region == "Europe & Central Asia" ~ 2
    ),
    # Annual reduction rate (varies by period)
    reduction_rate = case_when(
      region == "East Asia & Pacific" & year < 2015 ~ -0.08,
      region == "East Asia & Pacific" & year >= 2015 ~ -0.04,
      region == "Sub-Saharan Africa" & year < 2020 ~ -0.02,
      region == "Sub-Saharan Africa" & year >= 2020 ~ 0.01,  # COVID reversal
      region == "South Asia" & year < 2020 ~ -0.05,
      region == "South Asia" & year >= 2020 ~ -0.02,
      year >= 2020 ~ -0.01,  # COVID impact
      TRUE ~ -0.03
    ),
    # Calculate poverty rate
    poverty_rate = pmax(base_rate * (1 + reduction_rate)^(year - 1990), 0.5),
    # Add population for absolute numbers
    population_millions = case_when(
      region == "Sub-Saharan Africa" ~ 500 + (year - 1990) * 15,
      region == "South Asia" ~ 1200 + (year - 1990) * 20,
      region == "East Asia & Pacific" ~ 1800 + (year - 1990) * 15,
      region == "Latin America & Caribbean" ~ 500 + (year - 1990) * 5,
      region == "Middle East & North Africa" ~ 300 + (year - 1990) * 8,
      region == "Europe & Central Asia" ~ 400 + (year - 1990) * 2
    ),
    # People in poverty (millions)
    people_in_poverty = (poverty_rate / 100) * population_millions
  )

head(poverty_data, 10)
```

---

## 📈 Global Poverty Trends

### 1. Global Extreme Poverty Rate

```{r global-trend, fig.height=6}
global_poverty <- poverty_data %>%
  group_by(year) %>%
  summarise(
    total_population = sum(population_millions),
    total_poor = sum(people_in_poverty),
    poverty_rate = (total_poor / total_population) * 100,
    .groups = "drop"
  )

ggplot(global_poverty, aes(x = year, y = poverty_rate)) +
  geom_area(fill = "#E5243B", alpha = 0.3) +
  geom_line(color = "#C5192D", size = 1.5) +
  geom_point(color = "#C5192D", size = 3) +
  geom_vline(xintercept = 2020, linetype = "dashed", color = "gray30", size = 1) +
  annotate("text", x = 2020, y = max(global_poverty$poverty_rate) * 0.8, 
           label = "COVID-19\nPandemic", color = "gray20", fontface = "bold", hjust = -0.1) +
  scale_y_continuous(labels = percent_format(scale = 1), limits = c(0, NA)) +
  scale_x_continuous(breaks = seq(1990, 2023, 5)) +
  labs(
    title = "Global Extreme Poverty Rate (1990-2023)",
    subtitle = "Percentage of population living on <$2.15/day (2017 PPP) | COVID-19 reversed progress",
    x = "Year",
    y = "Extreme Poverty Rate (%)",
    caption = "Data: Simulated World Bank patterns | Visualization: Nichodemus Amollo | #TidyTuesday"
  ) +
  theme(
    plot.title = element_text(face = "bold", size = 16),
    plot.subtitle = element_text(size = 12, color = "gray40"),
    panel.grid.minor = element_blank()
  )
```

**Key Finding**: Global poverty rate fell from ~36% (1990) to ~8.5% (2023), but COVID-19 caused first increase in decades.

---

### 2. Regional Poverty Trends

```{r regional-trends, fig.height=7}
ggplot(poverty_data, aes(x = year, y = poverty_rate, color = region, group = region)) +
  geom_line(size = 1.3, alpha = 0.8) +
  geom_point(size = 2.5) +
  geom_vline(xintercept = 2020, linetype = "dashed", color = "gray30", alpha = 0.7) +
  scale_color_viridis_d(option = "turbo") +
  scale_y_continuous(labels = percent_format(scale = 1)) +
  scale_x_continuous(breaks = seq(1990, 2023, 5)) +
  labs(
    title = "Extreme Poverty Rates by Region (1990-2023)",
    subtitle = "Sub-Saharan Africa remains highest; East Asia achieved dramatic reductions",
    x = "Year",
    y = "Poverty Rate (%)",
    color = "Region",
    caption = "Data: Simulated World Bank patterns | #TidyTuesday"
  ) +
  theme(
    plot.title = element_text(face = "bold", size = 16),
    plot.subtitle = element_text(size = 12, color = "gray40"),
    legend.position = "bottom",
    legend.text = element_text(size = 9)
  ) +
  guides(color = guide_legend(nrow = 2))
```

**Key Finding**: Sub-Saharan Africa now accounts for ~70% of the world's extreme poor, despite having only ~14% of global population.

---

### 3. Absolute Numbers in Poverty

```{r absolute-numbers, fig.height=7}
ggplot(poverty_data, aes(x = year, y = people_in_poverty, fill = region)) +
  geom_area(alpha = 0.7) +
  scale_fill_viridis_d(option = "plasma", begin = 0.1, end = 0.9) +
  scale_y_continuous(labels = comma_format(suffix = "M")) +
  scale_x_continuous(breaks = seq(1990, 2023, 5)) +
  labs(
    title = "People Living in Extreme Poverty by Region (1990-2023)",
    subtitle = "Absolute numbers (millions) | Sub-Saharan Africa's share increasing",
    x = "Year",
    y = "People in Extreme Poverty (Millions)",
    fill = "Region",
    caption = "Data: Simulated World Bank patterns | #TidyTuesday"
  ) +
  theme(
    plot.title = element_text(face = "bold", size = 16),
    plot.subtitle = element_text(size = 12, color = "gray40"),
    legend.position = "bottom",
    legend.text = element_text(size = 9)
  ) +
  guides(fill = guide_legend(nrow = 2))
```

---

### 4. Progress Toward SDG 1 (2023 vs 2030 Target)

```{r sdg-progress, fig.height=7}
sdg_progress <- poverty_data %>%
  filter(year == 2023) %>%
  mutate(
    current_rate = poverty_rate,
    target_rate = 0,  # SDG 1: eradicate extreme poverty
    gap = current_rate - target_rate,
    region = fct_reorder(region, current_rate)
  )

ggplot(sdg_progress, aes(x = region, y = current_rate)) +
  geom_col(fill = "#E5243B", alpha = 0.85) +
  geom_hline(yintercept = 3, linetype = "dashed", color = "#4C9F38", size = 1) +
  geom_text(aes(label = paste0(round(current_rate, 1), "%")), 
            vjust = -0.5, size = 4, fontface = "bold") +
  annotate("text", x = 1, y = 3.5, label = "Realistic 2030 target: <3%", 
           color = "#4C9F38", fontface = "bold", hjust = 0) +
  scale_y_continuous(labels = percent_format(scale = 1), expand = expansion(mult = c(0, 0.15))) +
  coord_flip() +
  labs(
    title = "Current Extreme Poverty Rates by Region (2023)",
    subtitle = "Distance from realistic 2030 target (<3%) | SDG 1 goal: 0%",
    x = NULL,
    y = "Extreme Poverty Rate (%)",
    caption = "Data: Simulated World Bank patterns | Visualization: Nichodemus Amollo"
  ) +
  theme(
    plot.title = element_text(face = "bold", size = 16),
    plot.subtitle = element_text(size = 11, color = "gray40"),
    panel.grid.major.y = element_blank()
  )
```

---

### 5. COVID-19 Impact (2019 vs 2023)

```{r covid-impact, fig.height=6}
covid_impact <- poverty_data %>%
  filter(year %in% c(2019, 2023)) %>%
  select(region, year, people_in_poverty) %>%
  pivot_wider(names_from = year, values_from = people_in_poverty, names_prefix = "year_") %>%
  mutate(
    change_millions = year_2023 - year_2019,
    change_pct = ((year_2023 - year_2019) / year_2019) * 100,
    direction = ifelse(change_millions > 0, "Increase", "Decrease")
  )

ggplot(covid_impact, aes(x = reorder(region, change_millions), y = change_millions, fill = direction)) +
  geom_col(alpha = 0.85) +
  geom_text(aes(label = paste0(ifelse(change_millions > 0, "+", ""), round(change_millions, 1), "M")), 
            hjust = ifelse(covid_impact$change_millions > 0, -0.1, 1.1), 
            size = 4, fontface = "bold") +
  scale_fill_manual(values = c("Increase" = "#E5243B", "Decrease" = "#4C9F38")) +
  scale_y_continuous(labels = comma_format(suffix = "M"), expand = expansion(mult = c(0.2, 0.2))) +
  coord_flip() +
  labs(
    title = "Change in Extreme Poverty: 2019 vs 2023",
    subtitle = "Millions of people | COVID-19 pushed millions back into poverty",
    x = NULL,
    y = "Change in People Living in Extreme Poverty (Millions)",
    fill = "Direction",
    caption = "Data: Simulated World Bank patterns | #TidyTuesday"
  ) +
  theme(
    plot.title = element_text(face = "bold", size = 16),
    plot.subtitle = element_text(size = 11, color = "gray40"),
    legend.position = "bottom",
    panel.grid.major.y = element_blank()
  )
```

---

## 📊 Summary Table

```{r summary-table}
poverty_data %>%
  filter(year %in% c(1990, 2023)) %>%
  select(region, year, poverty_rate, people_in_poverty) %>%
  pivot_wider(
    names_from = year,
    values_from = c(poverty_rate, people_in_poverty),
    names_sep = "_"
  ) %>%
  mutate(
    rate_change = poverty_rate_2023 - poverty_rate_1990,
    absolute_change = people_in_poverty_2023 - people_in_poverty_1990
  ) %>%
  gt() %>%
  fmt_number(columns = starts_with("poverty_rate"), decimals = 1, pattern = "{x}%") %>%
  fmt_number(columns = starts_with("people_in_poverty"), decimals = 0, pattern = "{x}M") %>%
  fmt_number(columns = rate_change, decimals = 1, pattern = "{x}%") %>%
  fmt_number(columns = absolute_change, decimals = 0, pattern = "{x}M") %>%
  cols_label(
    region = "Region",
    poverty_rate_1990 = "1990",
    poverty_rate_2023 = "2023",
    rate_change = "Change",
    people_in_poverty_1990 = "1990",
    people_in_poverty_2023 = "2023",
    absolute_change = "Change"
  ) %>%
  tab_spanner(
    label = "Poverty Rate (%)",
    columns = c(poverty_rate_1990, poverty_rate_2023, rate_change)
  ) %>%
  tab_spanner(
    label = "People in Poverty (Millions)",
    columns = c(people_in_poverty_1990, people_in_poverty_2023, absolute_change)
  ) %>%
  tab_header(
    title = "Extreme Poverty: 1990 vs 2023",
    subtitle = "Regional comparison"
  ) %>%
  tab_source_note("Data: Simulated World Bank patterns | Analysis: Nichodemus Amollo") %>%
  gt_theme_538()
```

---

## 💡 Key Findings

::: {.callout-warning}
## Critical Insights

1. **Dramatic Progress, But Uneven**: Global extreme poverty fell from 36% (1990) to 8.5% (2023), but progress concentrated in East Asia.

2. **Sub-Saharan Africa Left Behind**: The region's poverty rate remains ~35%, and it now accounts for ~70% of the world's extreme poor.

3. **COVID-19 Reversal**: The pandemic pushed ~70-100 million people back into extreme poverty, erasing 3-4 years of progress.

4. **SDG 1 Off Track**: At current rates, ~6% of the global population will still be in extreme poverty by 2030 - far from the "zero" target.

5. **Population Growth Challenge**: In Sub-Saharan Africa, even as poverty rates decline, absolute numbers remain high due to rapid population growth.
:::

---

## 🎯 Policy Recommendations

### Immediate Actions (2024-2025)

1. **Targeted Social Protection**
   - Expand cash transfer programs in high-poverty regions
   - Ensure coverage reaches rural and remote populations
   - Link transfers to health and education outcomes

2. **Economic Recovery Support**
   - Debt relief for low-income countries
   - Increase ODA to 0.7% of GNI (current: ~0.3%)
   - Support small businesses and informal sector

3. **Food Security**
   - Strengthen food systems resilience
   - Support smallholder farmers
   - Address supply chain disruptions

### Long-term Strategies (2025-2030)

4. **Inclusive Growth**
   - Invest in infrastructure (roads, electricity, internet)
   - Promote labor-intensive industries
   - Support agricultural productivity

5. **Human Capital**
   - Universal primary and secondary education
   - Expand vocational training
   - Improve maternal and child health

6. **Climate Adaptation**
   - Build resilience to climate shocks
   - Support climate-smart agriculture
   - Protect vulnerable populations

---

## 📚 References

- World Bank. (2023). *Poverty and Shared Prosperity Report*
- UN Development Programme. (2023). *Human Development Report*
- UN Sustainable Development Goals. [SDG 1: No Poverty](https://sdgs.un.org/goals/goal1)

---

[⬅️ Back to TidyTuesday Projects](index.qmd)
